(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function RA(){if(I_)return gl;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return gl.Fragment=t,gl.jsx=n,gl.jsxs=n,gl}var D_;function wA(){return D_||(D_=1,Vd.exports=RA()),Vd.exports}var St=wA(),Md={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function bA(){if(O_)return wt;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Z={};function j(D,J,st){this.props=D,this.context=J,this.refs=Z,this.updater=st||q}j.prototype.isReactComponent={},j.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=j.prototype;function at(D,J,st){this.props=D,this.context=J,this.refs=Z,this.updater=st||q}var it=at.prototype=new W;it.constructor=at,F(it,j.prototype),it.isPureReactComponent=!0;var Rt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function V(D,J,st,et,dt,Ct){return st=Ct.ref,{$$typeof:r,type:D,key:J,ref:st!==void 0?st:null,props:Ct}}function R(D,J){return V(D.type,J,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return J[st]})}var M=/\/+/g;function x(D,J){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):J.toString(36)}function I(){}function ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function oe(D,J,st,et,dt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case E:return Et=D._init,oe(Et(D._payload),J,st,et,dt)}}if(Et)return dt=dt(D),Et=et===""?"."+x(D,0):et,Rt(dt)?(st="",Et!=null&&(st=Et.replace(M,"$&/")+"/"),oe(dt,J,st,"",function(Hn){return Hn})):dt!=null&&(C(dt)&&(dt=R(dt,st+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+Et)),J.push(dt)),1;Et=0;var Ie=et===""?".":et+":";if(Rt(D))for(var Wt=0;Wt<D.length;Wt++)et=D[Wt],Ct=Ie+x(et,Wt),Et+=oe(et,J,st,Ct,dt);else if(Wt=w(D),typeof Wt=="function")for(D=Wt.call(D),Wt=0;!(et=D.next()).done;)et=et.value,Ct=Ie+x(et,Wt++),Et+=oe(et,J,st,Ct,dt);else if(Ct==="object"){if(typeof D.then=="function")return oe(ke(D),J,st,et,dt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Et}function K(D,J,st){if(D==null)return D;var et=[],dt=0;return oe(D,et,"","",function(Ct){return J.call(st,Ct,dt++)}),et}function rt(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return wt.Children={map:K,forEach:function(D,J,st){K(D,function(){J.apply(this,arguments)},st)},count:function(D){var J=0;return K(D,function(){J++}),J},toArray:function(D){return K(D,function(J){return J})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=j,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=at,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ht.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,J,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=F({},D.props),dt=D.key,Ct=void 0;if(J!=null)for(Et in J.ref!==void 0&&(Ct=void 0),J.key!==void 0&&(dt=""+J.key),J)!Pt.call(J,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&J.ref===void 0||(et[Et]=J[Et]);var Et=arguments.length-2;if(Et===1)et.children=st;else if(1<Et){for(var Ie=Array(Et),Wt=0;Wt<Et;Wt++)Ie[Wt]=arguments[Wt+2];et.children=Ie}return V(D.type,dt,void 0,void 0,Ct,et)},wt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},wt.createElement=function(D,J,st){var et,dt={},Ct=null;if(J!=null)for(et in J.key!==void 0&&(Ct=""+J.key),J)Pt.call(J,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=J[et]);var Et=arguments.length-2;if(Et===1)dt.children=st;else if(1<Et){for(var Ie=Array(Et),Wt=0;Wt<Et;Wt++)Ie[Wt]=arguments[Wt+2];dt.children=Ie}if(D&&D.defaultProps)for(et in Et=D.defaultProps,Et)dt[et]===void 0&&(dt[et]=Et[et]);return V(D,Ct,void 0,void 0,null,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:m,render:D}},wt.isValidElement=C,wt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:rt}},wt.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},wt.startTransition=function(D){var J=ht.T,st={};ht.T=st;try{var et=D(),dt=ht.S;dt!==null&&dt(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Bt,ft)}catch(Ct){ft(Ct)}finally{ht.T=J}},wt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},wt.use=function(D){return ht.H.use(D)},wt.useActionState=function(D,J,st){return ht.H.useActionState(D,J,st)},wt.useCallback=function(D,J){return ht.H.useCallback(D,J)},wt.useContext=function(D){return ht.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,J){return ht.H.useDeferredValue(D,J)},wt.useEffect=function(D,J,st){var et=ht.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,J)},wt.useId=function(){return ht.H.useId()},wt.useImperativeHandle=function(D,J,st){return ht.H.useImperativeHandle(D,J,st)},wt.useInsertionEffect=function(D,J){return ht.H.useInsertionEffect(D,J)},wt.useLayoutEffect=function(D,J){return ht.H.useLayoutEffect(D,J)},wt.useMemo=function(D,J){return ht.H.useMemo(D,J)},wt.useOptimistic=function(D,J){return ht.H.useOptimistic(D,J)},wt.useReducer=function(D,J,st){return ht.H.useReducer(D,J,st)},wt.useRef=function(D){return ht.H.useRef(D)},wt.useState=function(D){return ht.H.useState(D)},wt.useSyncExternalStore=function(D,J,st){return ht.H.useSyncExternalStore(D,J,st)},wt.useTransition=function(){return ht.H.useTransition()},wt.version="19.1.1",wt}var N_;function Rm(){return N_||(N_=1,Md.exports=bA()),Md.exports}var G=Rm(),Pd={exports:{}},yl={},xd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function CA(){return V_||(V_=1,function(r){function t(K,rt){var ft=K.length;K.push(rt);t:for(;0<ft;){var Bt=ft-1>>>1,D=K[Bt];if(0<o(D,rt))K[Bt]=rt,K[ft]=D,ft=Bt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],ft=K.pop();if(ft!==rt){K[0]=ft;t:for(var Bt=0,D=K.length,J=D>>>1;Bt<J;){var st=2*(Bt+1)-1,et=K[st],dt=st+1,Ct=K[dt];if(0>o(et,ft))dt<D&&0>o(Ct,et)?(K[Bt]=Ct,K[dt]=ft,Bt=dt):(K[Bt]=et,K[st]=ft,Bt=st);else if(dt<D&&0>o(Ct,ft))K[Bt]=Ct,K[dt]=ft,Bt=dt;else break t}}return rt}function o(K,rt){var ft=K.sortIndex-rt.sortIndex;return ft!==0?ft:K.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,w=3,q=!1,F=!1,Z=!1,j=!1,W=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Rt(K){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=K)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function ht(K){if(Z=!1,Rt(K),!F)if(n(g)!==null)F=!0,Pt||(Pt=!0,x());else{var rt=n(y);rt!==null&&oe(ht,rt.startTime-K)}}var Pt=!1,V=-1,R=5,C=-1;function N(){return j?!0:!(r.unstable_now()-C<R)}function M(){if(j=!1,Pt){var K=r.unstable_now();C=K;var rt=!0;try{t:{F=!1,Z&&(Z=!1,at(V),V=-1),q=!0;var ft=w;try{e:{for(Rt(K),A=n(g);A!==null&&!(A.expirationTime>K&&N());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,w=A.priorityLevel;var D=Bt(A.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){A.callback=D,Rt(K),rt=!0;break e}A===n(g)&&s(g),Rt(K)}else s(g);A=n(g)}if(A!==null)rt=!0;else{var J=n(y);J!==null&&oe(ht,J.startTime-K),rt=!1}}break t}finally{A=null,w=ft,q=!1}rt=void 0}}finally{rt?x():Pt=!1}}}var x;if(typeof it=="function")x=function(){it(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ke=I.port2;I.port1.onmessage=M,x=function(){ke.postMessage(null)}}else x=function(){W(M,0)};function oe(K,rt){V=W(function(){K(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var ft=w;w=rt;try{return K()}finally{w=ft}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=w;w=K;try{return rt()}finally{w=ft}},r.unstable_scheduleCallback=function(K,rt,ft){var Bt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Bt+ft:Bt):ft=Bt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ft+D,K={id:E++,callback:rt,priorityLevel:K,startTime:ft,expirationTime:D,sortIndex:-1},ft>Bt?(K.sortIndex=ft,t(y,K),n(g)===null&&K===n(y)&&(Z?(at(V),V=-1):Z=!0,oe(ht,ft-Bt))):(K.sortIndex=D,t(g,K),F||q||(F=!0,Pt||(Pt=!0,x()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var rt=w;return function(){var ft=w;w=rt;try{return K.apply(this,arguments)}finally{w=ft}}}}(kd)),kd}var M_;function IA(){return M_||(M_=1,xd.exports=CA()),xd.exports}var Ud={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function DA(){if(P_)return Qe;P_=1;var r=Rm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Qe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:q}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var x_;function OA(){if(x_)return Ud.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=DA(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function NA(){if(k_)return yl;k_=1;var r=IA(),t=Rm(),n=OA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case j:return"Profiler";case Z:return"StrictMode";case ht:return"Suspense";case Pt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case it:return(e.displayName||"Context")+".Provider";case at:return(e._context.displayName||"Context")+".Consumer";case Rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:ke(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return ke(e(i))}catch{}}return null}var oe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function J(e){return{current:e}}function st(e){0>D||(e.current=Bt[D],Bt[D]=null,D--)}function et(e,i){D++,Bt[D]=e.current,e.current=i}var dt=J(null),Ct=J(null),Et=J(null),Ie=J(null);function Wt(e,i){switch(et(Et,i),et(Ct,e),et(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=n_(i),e=i_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(dt),et(dt,e)}function Hn(){st(dt),st(Ct),st(Et)}function tr(e){e.memoizedState!==null&&et(Ie,e);var i=dt.current,a=i_(i,e.type);i!==a&&(et(Ct,e),et(dt,a))}function yi(e){Ct.current===e&&(st(dt),st(Ct)),Ie.current===e&&(st(Ie),hl._currentValue=ft)}var Kr=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,oo=r.unstable_shouldYield,iu=r.unstable_requestPaint,gn=r.unstable_now,Nh=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,Qs=r.unstable_UserBlockingPriority,Xr=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,uo=r.log,ru=r.unstable_setDisableYieldValue,le=null,Ft=null;function on(e){if(typeof uo=="function"&&ru(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:$r,su=Math.log,Mh=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-(su(e)/Mh|0)|0}var Zr=256,Wr=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~e,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Jr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function co(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),e}function fo(){var e=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ge(a),X=1<<Q;T[Q]=0,b[Q]=-1;var z=L[Q];if(z!==null)for(L[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&jn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function jn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function po(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nr(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function au(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,pe="__reactProps$"+ee,yn="__reactContainer$"+ee,go="__reactEvents$"+ee,Ph="__reactListeners$"+ee,ir="__reactHandles$"+ee,ou="__reactResources$"+ee,ts="__reactMarker$"+ee;function rr(e){delete e[Te],delete e[pe],delete e[go],delete e[Ph],delete e[ir]}function Ei(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=o_(e);e!==null;){if(a=e[Te])return a;e=o_(e)}return i}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[Te]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function We(e){var i=e[ou];return i||(i=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[ts]=!0}var yo=new Set,Zs={};function Mn(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Zs[e]=i,e=0;e<i.length;e++)yo.add(i[e])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},es={};function cu(e){return Kr.call(es,e)?!0:Kr.call(uu,e)?!1:lu.test(e)?es[e]=!0:(uu[e]=!0,!1)}function sr(e,i,a){if(cu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Kn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ue(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ns,hu;function Si(e){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+e+hu}var Ws=!1;function Js(e,i){if(!e||Ws)return"";Ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var b=v.split(`
`),L=T.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===L.length)for(l=b.length-1,h=L.length-1;1<=l&&0<=h&&b[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==L[h]){var Q=`
`+b[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ws=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function _o(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Si("Activity");default:return""}}function ta(e){try{var i="";do i+=_o(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xh(e){var i=vo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ea(e){e._valueTracker||(e._valueTracker=xh(e))}function Eo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=vo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kh=/[\n"\\]/g;function ge(e){return e.replace(kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ar(e,v,Je(i)):a!=null?ar(e,v,Je(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function rs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ar(e,i,a){i==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ai(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function ss(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||as.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function To(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&fu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&fu(e,d,i[d])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return Lh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,bi=null;function Ao(e){var i=Fn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Eo(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ai(e,!!a.multiple,i,!1)}}}var Qn=!1;function du(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var l=e(i);return l}finally{if(Qn=!1,(wi!==null||bi!==null)&&(ac(),wi&&(i=wi,e=bi,bi=wi=null,Ao(i),e)))for(i=0;i<e.length;i++)Ao(e[i])}}function os(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Pn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){En=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{En=!1}var Yn=null,or=null,Ci=null;function Ro(){if(Ci)return Ci;var e,i=or,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ci=h.slice(e,1<l?1-l:void 0)}function Xn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function wo(){return!1}function De(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:wo,this.isPropagationStopped=wo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=De(Ht),us=E({},Ht,{view:0,detail:0}),mu=De(us),ra,sa,Zn,cs=E({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(ra=e.screenX-Zn.screenX,sa=e.screenY-Zn.screenY):sa=ra=0,Zn=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Tn=De(cs),pu=E({},cs,{dataTransfer:0}),zh=De(pu),hs=E({},us,{relatedTarget:0}),aa=De(hs),bo=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=De(bo),gu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=De(gu),Bh=E({},Ht,{data:0}),Co=De(Bh),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Io(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=_u[e])?!!i[e]:!1}function ds(){return Io}var vu=E({},us,{key:function(e){if(e.key){var i=fs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=De(vu),Eu=E({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=De(Eu),Ii=E({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),Tu=De(Ii),Su=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=De(Su),Ru=E({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=De(Ru),tn=E({},Ht,{newState:0,oldState:0}),wu=De(tn),bu=[9,13,27,32],Wn=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var p=Pn&&"TextEvent"in window&&!c,_=Pn&&(!Wn||c&&8<c&&11>=c),S=" ",k=!1;function H(e,i){switch(e){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Se(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(k=!0,S);case"textInput":return e=i.data,e===S&&k?null:e;default:return null}}function kt(e,i){if(xt)return e==="compositionend"||!Wn&&H(e,i)?(e=Ro(),Ci=or=Yn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function Di(e,i,a,l){wi?bi?bi.push(l):bi=[l]:wi=l,i=fc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Le=null,Jn=null;function Oo(e){Zy(e,0)}function Cu(e){var i=Gn(e);if(Eo(i))return e}function _p(e,i){if(e==="change")return i}var vp=!1;if(Pn){var qh;if(Pn){var Hh="oninput"in document;if(!Hh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Hh=typeof Ep.oninput=="function"}qh=Hh}else qh=!1;vp=qh&&(!document.documentMode||9<document.documentMode)}function Tp(){Le&&(Le.detachEvent("onpropertychange",Sp),Jn=Le=null)}function Sp(e){if(e.propertyName==="value"&&Cu(Jn)){var i=[];Di(i,Jn,e,vn(e)),du(Oo,i)}}function tS(e,i,a){e==="focusin"?(Tp(),Le=i,Jn=a,Le.attachEvent("onpropertychange",Sp)):e==="focusout"&&Tp()}function eS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Jn)}function nS(e,i){if(e==="click")return Cu(i)}function iS(e,i){if(e==="input"||e==="change")return Cu(i)}function rS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:rS;function No(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,i){var a=Ap(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ap(a)}}function wp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?wp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=is(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=is(e.document)}return i}function jh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var sS=Pn&&"documentMode"in document&&11>=document.documentMode,ha=null,Fh=null,Vo=null,Gh=!1;function Cp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||ha==null||ha!==is(l)||(l=ha,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&No(Vo,l)||(Vo=l,l=fc(Fh,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ha)))}function ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Kh={},Ip={};Pn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ps(e){if(Kh[e])return Kh[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ip)return Kh[e]=i[a];return e}var Dp=ps("animationend"),Op=ps("animationiteration"),Np=ps("animationstart"),aS=ps("transitionrun"),oS=ps("transitionstart"),lS=ps("transitioncancel"),Vp=ps("transitionend"),Mp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function xn(e,i){Mp.set(e,i),Mn(i,[e])}var Pp=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=Pp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ta(i)},Pp.set(e,i),i)}return{value:e,source:i,stack:ta(i)}}var An=[],da=0,Yh=0;function Iu(){for(var e=da,i=Yh=da=0;i<e;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xp(a,h,d)}}function Du(e,i,a,l){An[da++]=e,An[da++]=i,An[da++]=a,An[da++]=l,Yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xh(e,i,a,l){return Du(e,i,a,l),Ou(e)}function ma(e,i){return Du(e,null,null,i),Ou(e)}function xp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ou(e){if(50<il)throw il=0,nd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function uS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,l){return new uS(e,i,a,l)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Nu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")$h(e)&&(v=1);else if(typeof e=="string")v=hA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=cn(31,a,i,h),e.elementType=C,e.lanes=d,e;case F:return gs(a.children,h,d,i);case Z:v=8,h|=24;break;case j:return e=cn(12,a,i,h|2),e.elementType=j,e.lanes=d,e;case ht:return e=cn(13,a,i,h),e.elementType=ht,e.lanes=d,e;case Pt:return e=cn(19,a,i,h),e.elementType=Pt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:case it:v=10;break t;case at:v=9;break t;case Rt:v=11;break t;case V:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=cn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function gs(e,i,a,l){return e=cn(7,e,l,i),e.lanes=a,e}function Zh(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function Wh(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ga=[],ya=0,Vu=null,Mu=0,Rn=[],wn=0,ys=null,Ni=1,Vi="";function _s(e,i){ga[ya++]=Mu,ga[ya++]=Vu,Vu=e,Mu=i}function Up(e,i,a){Rn[wn++]=Ni,Rn[wn++]=Vi,Rn[wn++]=ys,ys=e;var l=Ni;e=Vi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Ge(i)+h|a<<h|l,Vi=d+e}else Ni=1<<d|a<<h|l,Vi=e}function Jh(e){e.return!==null&&(_s(e,1),Up(e,1,0))}function tf(e){for(;e===Vu;)Vu=ga[--ya],ga[ya]=null,Mu=ga[--ya],ga[ya]=null;for(;e===ys;)ys=Rn[--wn],Rn[wn]=null,Vi=Rn[--wn],Rn[wn]=null,Ni=Rn[--wn],Rn[wn]=null}var en=null,ue=null,qt=!1,vs=null,ti=!1,ef=Error(s(519));function Es(e){var i=Error(s(418,""));throw xo(Sn(i,e)),ef}function Lp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[pe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)Ot(sl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),ss(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||e_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=dc),i=!0):i=!1,i||Es(e)}function zp(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:en=en.return}}function Mo(e){if(e!==en)return!1;if(!qt)return zp(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||_d(e.type,e.memoizedProps)),a=!a),a&&ue&&Es(e),zp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Un(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Ar(e.type)?(e=Sd,Sd=null,ue=e):ue=i):ue=en?Un(e.stateNode.nextSibling):null;return!0}function Po(){ue=en=null,qt=!1}function Bp(){var e=vs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),vs=null),e}function xo(e){vs===null?vs=[e]:vs.push(e)}var nf=J(null),Ts=null,Mi=null;function lr(e,i,a){et(nf,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=nf.current,st(nf)}function rf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function sf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var b=0;b<i.length;b++)if(T.context===i[b]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),rf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),rf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ko(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&sf(i,e,a,l),i.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){Ts=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return qp(Ts,e)}function xu(e,i){return Ts===null&&Ss(e),qp(e,i)}function qp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var cS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},hS=r.unstable_scheduleCallback,fS=r.unstable_NormalPriority,Re={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new cS,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&hS(fS,function(){e.controller.abort()})}var Lo=null,of=0,_a=0,va=null;function dS(e,i){if(Lo===null){var a=Lo=[];of=0,_a=ud(),va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return of++,i.then(Hp,Hp),i}function Hp(){if(--of===0&&Lo!==null){va!==null&&(va.status="fulfilled");var e=Lo;Lo=null,_a=0,va=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jp=K.S;K.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dS(e,i),jp!==null&&jp(e,i)};var As=J(null);function lf(){var e=As.current;return e!==null?e:Jt.pooledCache}function ku(e,i){i===null?et(As,As.current):et(As,i.pool)}function Fp(){var e=lf();return e===null?null:{parent:Re._currentValue,pool:e}}var zo=Error(s(460)),Gp=Error(s(474)),Uu=Error(s(542)),uf={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lu(){}function Qp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Lu,Lu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xp(e),e;default:if(typeof i.status=="string")i.then(Lu,Lu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xp(e),e}throw Bo=i,zo}}var Bo=null;function Yp(){if(Bo===null)throw Error(s(459));var e=Bo;return Bo=null,e}function Xp(e){if(e===zo||e===Uu)throw Error(s(483))}var ur=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(e),xp(e,null,a),i}return Du(e,l,i,a),Ou(e)}function qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,po(e,a)}}function ff(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var df=!1;function Ho(){if(df){var e=va;if(e!==null)throw e}}function jo(e,i,a,l){df=!1;var h=e.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var b=T,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=L:T.next=L,Q.lastBaseUpdate=b))}if(d!==null){var X=h.baseState;v=0,Q=L=b=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Ut&z)===z:(l&z)===z){z!==0&&z===_a&&(df=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var _t=e,pt=T;z=i;var $t=a;switch(pt.tag){case 1:if(_t=pt.payload,typeof _t=="function"){X=_t.call($t,X,z);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=pt.payload,z=typeof _t=="function"?_t.call($t,X,z):_t,z==null)break t;X=E({},X,z);break t;case 2:ur=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(L=Q=B,b=X):Q=Q.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(b=X),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),vr|=v,e.lanes=v,e.memoizedState=X}}function $p(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Zp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],i)}var Ea=J(null),zu=J(0);function Wp(e,i){e=qi,et(zu,e),et(Ea,i),qi=e|i.baseLanes}function mf(){et(zu,qi),et(Ea,Ea.current)}function pf(){qi=zu.current,st(Ea),st(zu)}var fr=0,bt=null,Yt=null,ye=null,Bu=!1,Ta=!1,Rs=!1,qu=0,Fo=0,Sa=null,pS=0;function fe(){throw Error(s(321))}function gf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function yf(e,i,a,l,h,d){return fr=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?xg:kg,Rs=!1,d=a(l,h),Rs=!1,Ta&&(d=tg(i,a,l,h)),Jp(e),d}function Jp(e){K.H=Qu;var i=Yt!==null&&Yt.next!==null;if(fr=0,ye=Yt=bt=null,Bu=!1,Fo=0,Sa=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Pu(e)&&(Ne=!0))}function tg(e,i,a,l){bt=e;var h=0;do{if(Ta&&(Sa=null),Fo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,ye=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=SS,d=i(a,l)}while(Ta);return d}function gS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Go(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),i}function _f(){var e=qu!==0;return qu=0,e}function vf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ef(e){if(Bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Bu=!1}fr=0,ye=Yt=bt=null,Ta=!1,Fo=qu=0,Sa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?bt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ye===null?bt.memoizedState:ye.next;if(i!==null)ye=i,Yt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?bt.memoizedState=ye=e:ye=ye.next=e}return ye}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var i=Fo;return Fo+=1,Sa===null&&(Sa=[]),e=Qp(Sa,e,i),i=bt,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?xg:kg),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===it)return Ke(e)}throw Error(s(438,String(e)))}function Sf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tf(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function xi(e,i){return typeof i=="function"?i(e):i}function ju(e){var i=_e();return Af(i,Yt,e)}function Af(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,b=null,L=i,Q=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(Ut&X)===X:(fr&X)===X){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===_a&&(Q=!0);else if((fr&z)===z){L=L.next,z===_a&&(Q=!0);continue}else X={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=X,v=d):b=b.next=X,bt.lanes|=z,vr|=z;X=L.action,Rs&&a(d,X),d=L.hasEagerState?L.eagerState:a(d,X)}else z={lane:X,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=z,v=d):b=b.next=z,bt.lanes|=X,vr|=X;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=T,!un(d,e.memoizedState)&&(Ne=!0,Q&&(a=va,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function eg(e,i,a){var l=bt,h=_e(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=rg.bind(null,l,h,e);if(Ko(2048,8,T,[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Aa(9,Fu(),ig.bind(null,l,h,a,i),null),Jt===null)throw Error(s(349));d||(fr&124)!==0||ng(l,i,a)}return a}function ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=Tf(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ig(e,i,a,l){i.value=a,i.getSnapshot=l,sg(i)&&ag(e)}function rg(e,i,a){return a(function(){sg(i)&&ag(e)})}function sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function ag(e){var i=ma(e,2);i!==null&&pn(i,e,2)}function wf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Rs){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},i}function og(e,i,a,l){return e.baseState=a,Af(e,Yt,typeof l=="function"?l:xi)}function yS(e,i,a,l,h){if(Ku(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function lg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),b=K.S;b!==null&&b(v,T),ug(e,i,T)}catch(L){bf(e,i,L)}finally{K.T=d}}else try{d=a(h,l),ug(e,i,d)}catch(L){bf(e,i,L)}}function ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cg(e,i,l)},function(l){return bf(e,i,l)}):cg(e,i,a)}function cg(e,i,a){i.status="fulfilled",i.value=a,hg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,lg(e,a)))}function bf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hg(i),i=i.next;while(i!==l)}e.action=null}function hg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fg(e,i){return i}function dg(e,i){if(qt){var a=Jt.formState;if(a!==null){t:{var l=bt;if(qt){if(ue){e:{for(var h=ue,d=ti;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Un(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:i},a.queue=l,a=Vg.bind(null,bt,l),l.dispatch=a,l=wf(!1),d=Nf.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=yS.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function mg(e){var i=_e();return pg(i,Yt,e)}function pg(e,i,a){if(i=Af(e,i,fg)[0],e=ju(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Go(i)}catch(v){throw v===zo?Uu:v}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,Aa(9,Fu(),_S.bind(null,h,a),null)),[l,d,e]}function _S(e,i){e.action=i}function gg(e){var i=_e(),a=Yt;if(a!==null)return pg(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Aa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=Tf(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Fu(){return{destroy:void 0,resource:void 0}}function yg(){return _e().memoizedState}function Gu(e,i,a,l){var h=nn();l=l===void 0?null:l,bt.flags|=e,h.memoizedState=Aa(1|i,Fu(),a,l)}function Ko(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&gf(l,Yt.memoizedState.deps)?h.memoizedState=Aa(i,d,a,l):(bt.flags|=e,h.memoizedState=Aa(1|i,d,a,l))}function _g(e,i){Gu(8390656,8,e,i)}function vg(e,i){Ko(2048,8,e,i)}function Eg(e,i){return Ko(4,2,e,i)}function Tg(e,i){return Ko(4,4,e,i)}function Sg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ag(e,i,a){a=a!=null?a.concat([e]):null,Ko(4,4,Sg.bind(null,i,e),a)}function Cf(){}function Rg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function wg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gf(i,l[1]))return l[0];if(l=e(),Rs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l}function If(e,i,a){return a===void 0||(fr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Iy(),bt.lanes|=e,vr|=e,a)}function bg(e,i,a,l){return un(a,i)?a:Ea.current!==null?(e=If(e,a,l),un(e,i)||(Ne=!0),e):(fr&42)===0?(Ne=!0,e.memoizedState=a):(e=Iy(),bt.lanes|=e,vr|=e,i)}function Cg(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Nf(e,!1,i,a);try{var b=h(),L=K.S;if(L!==null&&L(T,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=mS(b,l);Qo(e,i,Q,mn(e))}else Qo(e,i,l,mn(e))}catch(X){Qo(e,i,{then:function(){},status:"rejected",reason:X},mn())}finally{rt.p=d,K.T=v}}function vS(){}function Df(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ig(e).queue;Cg(e,h,i,ft,a===null?vS:function(){return Dg(e),a(l)})}function Ig(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dg(e){var i=Ig(e).next.queue;Qo(e,i,{},mn())}function Of(){return Ke(hl)}function Og(){return _e().memoizedState}function Ng(){return _e().memoizedState}function ES(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=cr(a);var l=hr(i,e,a);l!==null&&(pn(l,i,a),qo(l,i,a)),i={cache:af()},e.payload=i;return}i=i.return}}function TS(e,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Mg(i,a):(a=Xh(e,i,a,l),a!==null&&(pn(a,e,l),Pg(a,i,l)))}function Vg(e,i,a){var l=mn();Qo(e,i,a,l)}function Qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Mg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return Du(e,i,h,0),Jt===null&&Iu(),!1}catch{}finally{}if(a=Xh(e,i,h,l),a!==null)return pn(a,e,l),Pg(a,i,l),!0}return!1}function Nf(e,i,a,l){if(l={lane:2,revertLane:ud(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(i)throw Error(s(479))}else i=Xh(e,a,l,2),i!==null&&pn(i,e,2)}function Ku(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Mg(e,i){Ta=Bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Pg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,po(e,a)}}var Qu={readContext:Ke,use:Hu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},xg={readContext:Ke,use:Hu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:_g,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Gu(4194308,4,Sg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Gu(4194308,4,e,i)},useInsertionEffect:function(e,i){Gu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(Rs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Rs){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=TS.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Vg.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(e,i){var a=nn();return If(a,e,i)},useTransition:function(){var e=wf(!1);return e=Cg.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Ut&124)!==0||ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_g(rg.bind(null,l,d,e),[e]),l.flags|=2048,Aa(9,Fu(),ig.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Jt.identifierPrefix;if(qt){var a=Vi,l=Ni;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=pS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Of,useFormState:dg,useActionState:dg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Sf,useCacheRefresh:function(){return nn().memoizedState=ES.bind(null,bt)}},kg={readContext:Ke,use:Hu,useCallback:Rg,useContext:Ke,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:ju,useRef:yg,useState:function(){return ju(xi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=_e();return bg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=ju(xi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:eg,useId:Og,useHostTransitionStatus:Of,useFormState:mg,useActionState:mg,useOptimistic:function(e,i){var a=_e();return og(a,Yt,e,i)},useMemoCache:Sf,useCacheRefresh:Ng},SS={readContext:Ke,use:Hu,useCallback:Rg,useContext:Ke,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Rf,useRef:yg,useState:function(){return Rf(xi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=_e();return Yt===null?If(a,e,i):bg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Rf(xi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Go(e),i]},useSyncExternalStore:eg,useId:Og,useHostTransitionStatus:Of,useFormState:gg,useActionState:gg,useOptimistic:function(e,i){var a=_e();return Yt!==null?og(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Ng},Ra=null,Yo=0;function Yu(e){var i=Yo;return Yo+=1,Ra===null&&(Ra=[]),Qp(Ra,e,i)}function Xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Xu(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ug(e){var i=e._init;return i(e._payload)}function Lg(e){function i(P,O){if(e){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Oi(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,e?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,U,Y){return O===null||O.tag!==6?(O=Zh(U,P.mode,Y),O.return=P,O):(O=h(O,U),O.return=P,O)}function b(P,O,U,Y){var lt=U.type;return lt===F?Q(P,O,U.props.children,Y,U.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Ug(lt)===O.type)?(O=h(O,U.props),Xo(O,U),O.return=P,O):(O=Nu(U.type,U.key,U.props,null,P.mode,Y),Xo(O,U),O.return=P,O)}function L(P,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Wh(U,P.mode,Y),O.return=P,O):(O=h(O,U.children||[]),O.return=P,O)}function Q(P,O,U,Y,lt){return O===null||O.tag!==7?(O=gs(U,P.mode,Y,lt),O.return=P,O):(O=h(O,U),O.return=P,O)}function X(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zh(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return U=Nu(O.type,O.key,O.props,null,P.mode,U),Xo(U,O),U.return=P,U;case q:return O=Wh(O,P.mode,U),O.return=P,O;case R:var Y=O._init;return O=Y(O._payload),X(P,O,U)}if(oe(O)||x(O))return O=gs(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return X(P,Yu(O),U);if(O.$$typeof===it)return X(P,xu(P,O),U);Xu(P,O)}return null}function z(P,O,U,Y){var lt=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:T(P,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===lt?b(P,O,U,Y):null;case q:return U.key===lt?L(P,O,U,Y):null;case R:return lt=U._init,U=lt(U._payload),z(P,O,U,Y)}if(oe(U)||x(U))return lt!==null?null:Q(P,O,U,Y,null);if(typeof U.then=="function")return z(P,O,Yu(U),Y);if(U.$$typeof===it)return z(P,O,xu(P,U),Y);Xu(P,U)}return null}function B(P,O,U,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(U)||null,T(O,P,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return P=P.get(Y.key===null?U:Y.key)||null,b(O,P,Y,lt);case q:return P=P.get(Y.key===null?U:Y.key)||null,L(O,P,Y,lt);case R:var It=Y._init;return Y=It(Y._payload),B(P,O,U,Y,lt)}if(oe(Y)||x(Y))return P=P.get(U)||null,Q(O,P,Y,lt,null);if(typeof Y.then=="function")return B(P,O,U,Yu(Y),lt);if(Y.$$typeof===it)return B(P,O,U,xu(O,Y),lt);Xu(O,Y)}return null}function _t(P,O,U,Y){for(var lt=null,It=null,ut=O,gt=O=0,Me=null;ut!==null&&gt<U.length;gt++){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var zt=z(P,ut,U[gt],Y);if(zt===null){ut===null&&(ut=Me);break}e&&ut&&zt.alternate===null&&i(P,ut),O=d(zt,O,gt),It===null?lt=zt:It.sibling=zt,It=zt,ut=Me}if(gt===U.length)return a(P,ut),qt&&_s(P,gt),lt;if(ut===null){for(;gt<U.length;gt++)ut=X(P,U[gt],Y),ut!==null&&(O=d(ut,O,gt),It===null?lt=ut:It.sibling=ut,It=ut);return qt&&_s(P,gt),lt}for(ut=l(ut);gt<U.length;gt++)Me=B(ut,P,gt,U[gt],Y),Me!==null&&(e&&Me.alternate!==null&&ut.delete(Me.key===null?gt:Me.key),O=d(Me,O,gt),It===null?lt=Me:It.sibling=Me,It=Me);return e&&ut.forEach(function(Ir){return i(P,Ir)}),qt&&_s(P,gt),lt}function pt(P,O,U,Y){if(U==null)throw Error(s(151));for(var lt=null,It=null,ut=O,gt=O=0,Me=null,zt=U.next();ut!==null&&!zt.done;gt++,zt=U.next()){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var Ir=z(P,ut,zt.value,Y);if(Ir===null){ut===null&&(ut=Me);break}e&&ut&&Ir.alternate===null&&i(P,ut),O=d(Ir,O,gt),It===null?lt=Ir:It.sibling=Ir,It=Ir,ut=Me}if(zt.done)return a(P,ut),qt&&_s(P,gt),lt;if(ut===null){for(;!zt.done;gt++,zt=U.next())zt=X(P,zt.value,Y),zt!==null&&(O=d(zt,O,gt),It===null?lt=zt:It.sibling=zt,It=zt);return qt&&_s(P,gt),lt}for(ut=l(ut);!zt.done;gt++,zt=U.next())zt=B(ut,P,gt,zt.value,Y),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?gt:zt.key),O=d(zt,O,gt),It===null?lt=zt:It.sibling=zt,It=zt);return e&&ut.forEach(function(AA){return i(P,AA)}),qt&&_s(P,gt),lt}function $t(P,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var lt=U.key;O!==null;){if(O.key===lt){if(lt=U.type,lt===F){if(O.tag===7){a(P,O.sibling),Y=h(O,U.props.children),Y.return=P,P=Y;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===R&&Ug(lt)===O.type){a(P,O.sibling),Y=h(O,U.props),Xo(Y,U),Y.return=P,P=Y;break t}a(P,O);break}else i(P,O);O=O.sibling}U.type===F?(Y=gs(U.props.children,P.mode,Y,U.key),Y.return=P,P=Y):(Y=Nu(U.type,U.key,U.props,null,P.mode,Y),Xo(Y,U),Y.return=P,P=Y)}return v(P);case q:t:{for(lt=U.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),Y=h(O,U.children||[]),Y.return=P,P=Y;break t}else{a(P,O);break}else i(P,O);O=O.sibling}Y=Wh(U,P.mode,Y),Y.return=P,P=Y}return v(P);case R:return lt=U._init,U=lt(U._payload),$t(P,O,U,Y)}if(oe(U))return _t(P,O,U,Y);if(x(U)){if(lt=x(U),typeof lt!="function")throw Error(s(150));return U=lt.call(U),pt(P,O,U,Y)}if(typeof U.then=="function")return $t(P,O,Yu(U),Y);if(U.$$typeof===it)return $t(P,O,xu(P,U),Y);Xu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),Y=h(O,U),Y.return=P,P=Y):(a(P,O),Y=Zh(U,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,O)}return function(P,O,U,Y){try{Yo=0;var lt=$t(P,O,U,Y);return Ra=null,lt}catch(ut){if(ut===zo||ut===Uu)throw ut;var It=cn(29,ut,null,P.mode);return It.lanes=Y,It.return=P,It}finally{}}}var wa=Lg(!0),zg=Lg(!1),bn=J(null),ei=null;function dr(e){var i=e.alternate;et(we,we.current&1),et(bn,e),ei===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ei=e)}function Bg(e){if(e.tag===22){if(et(we,we.current),et(bn,e),ei===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ei=e)}}else mr()}function mr(){et(we,we.current),et(bn,bn.current)}function ki(e){st(bn),ei===e&&(ei=null),st(we)}var we=J(0);function $u(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Td(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=mn(),h=cr(l);h.payload=i,a!=null&&(h.callback=a),i=hr(e,h,l),i!==null&&(pn(i,e,l),qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=mn(),h=cr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=hr(e,h,l),i!==null&&(pn(i,e,l),qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),l=cr(a);l.tag=2,i!=null&&(l.callback=i),i=hr(e,l,a),i!==null&&(pn(i,e,a),qo(i,e,a))}};function qg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!No(a,l)||!No(h,d):!0}function Hg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Mf.enqueueReplaceState(i,i.state,null)}function ws(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jg(e){Zu(e)}function Fg(e){console.error(e)}function Gg(e){Zu(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Kg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,i,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function Qg(e){return e=cr(e),e.tag=3,e}function Yg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Kg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Kg(i,a,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ko(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return ei===null?rd():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ad(e,l,h)),!1;case 22:return a.flags|=65536,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ad(e,l,h)),!1}throw Error(s(435,a.tag))}return ad(e,l,h),rd(),!1}if(qt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ef&&(e=Error(s(422),{cause:l}),xo(Sn(e,a)))):(l!==ef&&(i=Error(s(423),{cause:l}),xo(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,a),h=Pf(e.stateNode,l,h),ff(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),nl===null?nl=[d]:nl.push(d),ce!==4&&(ce=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,l,e),ff(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qg(h),Yg(h,e,a,l),ff(a,h),!1}a=a.return}while(a!==null);return!1}var Xg=Error(s(461)),Ne=!1;function ze(e,i,a,l){i.child=e===null?zg(i,null,a,l):wa(i,e.child,a,l)}function $g(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=yf(e,i,a,v,d,h),T=_f(),e!==null&&!Ne?(vf(e,i,h),Ui(e,i,h)):(qt&&T&&Jh(i),i.flags|=1,ze(e,i,l,h),i.child)}function Zg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wg(e,i,d,l,h)):(e=Nu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Hf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:No,a(v,l)&&e.ref===i.ref)return Ui(e,i,h)}return i.flags|=1,e=Oi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Wg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(No(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,Hf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Ui(e,i,h)}return xf(e,i,a,l,h)}function Jg(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ty(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(i,d!==null?d.cachePool:null),d!==null?Wp(i,d):mf(),Bg(i);else return i.lanes=i.childLanes=536870912,ty(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ku(i,d.cachePool),Wp(i,d),mr(),i.memoizedState=null):(e!==null&&ku(i,null),mf(),mr());return ze(e,i,h,a),i.child}function ty(e,i,a,l){var h=lf();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&ku(i,null),mf(),Bg(i),e!==null&&ko(e,i,l,!0),null}function Ju(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function xf(e,i,a,l,h){return Ss(i),a=yf(e,i,a,l,void 0,h),l=_f(),e!==null&&!Ne?(vf(e,i,h),Ui(e,i,h)):(qt&&l&&Jh(i),i.flags|=1,ze(e,i,a,h),i.child)}function ey(e,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=tg(i,l,a,h),Jp(e),l=_f(),e!==null&&!Ne?(vf(e,i,d),Ui(e,i,d)):(qt&&l&&Jh(i),i.flags|=1,ze(e,i,a,d),i.child)}function ny(e,i,a,l,h){if(Ss(i),i.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ke(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ke(v):pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Mf.enqueueReplaceState(d,d.state,null),jo(i,l,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,b=ws(a,T);d.props=b;var L=d.context,Q=a.contextType;v=pa,typeof Q=="object"&&Q!==null&&(v=Ke(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&Hg(i,d,l,v),ur=!1;var z=i.memoizedState;d.state=z,jo(i,l,d,h),Ho(),L=i.memoizedState,T||z!==L||ur?(typeof X=="function"&&(Vf(i,a,X,l),L=i.memoizedState),(b=ur||qg(i,a,b,l,z,L,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hf(e,i),v=i.memoizedProps,Q=ws(a,v),d.props=Q,X=i.pendingProps,z=d.context,L=a.contextType,b=pa,typeof L=="object"&&L!==null&&(b=Ke(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==b)&&Hg(i,d,l,b),ur=!1,z=i.memoizedState,d.state=z,jo(i,l,d,h),Ho();var B=i.memoizedState;v!==X||z!==B||ur||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof T=="function"&&(Vf(i,a,T,l),B=i.memoizedState),(Q=ur||qg(i,a,Q,l,z,B,b)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=b,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ju(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=wa(i,e.child,null,h),i.child=wa(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ui(e,i,h),e}function iy(e,i,a,l){return Po(),i.flags|=256,ze(e,i,a,l),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Fp()}}function Lf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function ry(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?dr(i):mr(),qt){var T=ue,b;if(b=T){t:{for(b=T,T=ti;b.nodeType!==8;){if(!T){T=null;break t}if(b=Un(b.nextSibling),b===null){T=null;break t}}T=b}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},b=cn(18,null,null,0),b.stateNode=T,b.return=i,i.child=b,en=i,ue=null,b=!0):b=!1}b||Es(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Td(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=tc({mode:"hidden",children:T},h),l=gs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Uf(a),h.childLanes=Lf(e,v,a),i.memoizedState=kf,l):(dr(i),zf(i,T))}if(b=e.memoizedState,b!==null&&(T=b.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=Bf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=tc({mode:"visible",children:l.children},T),h=gs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wa(i,e.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=Lf(e,v,a),i.memoizedState=kf,i=h);else if(dr(i),Td(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,xo({value:l,source:null,stack:null}),i=Bf(e,i,a)}else if(Ne||ko(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:er(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ma(e,l),pn(v,e,l),Xg;T.data==="$?"||rd(),i=Bf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ue=Un(T.nextSibling),en=i,qt=!0,vs=null,ti=!1,e!==null&&(Rn[wn++]=Ni,Rn[wn++]=Vi,Rn[wn++]=ys,Ni=e.id,Vi=e.overflow,ys=i),i=zf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,b=e.child,L=b.sibling,l=Oi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Oi(L,h):(h=gs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Uf(a):(b=T.cachePool,b!==null?(L=Re._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Fp(),T={baseLanes:T.baseLanes|a,cachePool:b}),h.memoizedState=T,h.childLanes=Lf(e,v,a),i.memoizedState=kf,l):(dr(i),a=e.child,e=a.sibling,a=Oi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function zf(e,i){return i=tc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function tc(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Bf(e,i,a){return wa(i,e.child,null,a),e=zf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),rf(e.return,i,a)}function qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ay(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,i);else if(e.tag===19)sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(et(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&$u(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&$u(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(i,!0,a,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),vr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ko(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Oi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Oi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function RS(e,i,a){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),lr(i,Re,e.memoizedState.cache),Po();break;case 27:case 5:tr(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(e,i,a):(dr(i),e=Ui(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ko(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,Jg(e,i,a);case 24:lr(i,Re,e.memoizedState.cache)}return Ui(e,i,a)}function oy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Hf(e,a)&&(i.flags&128)===0)return Ne=!1,RS(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,qt&&(i.flags&1048576)!==0&&Up(i,Mu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")$h(l)?(e=ws(l,e),i.tag=1,i=ny(null,i,l,e,a)):(i.tag=0,i=xf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Rt){i.tag=11,i=$g(null,i,l,e,a);break t}else if(h===V){i.tag=14,i=Zg(null,i,l,e,a);break t}}throw i=ke(l)||l,Error(s(306,i,""))}}return i;case 0:return xf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ws(l,i.pendingProps),ny(e,i,l,h,a);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,hf(e,i),jo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,lr(i,Re,l),l!==d.cache&&sf(i,[Re],a,!0),Ho(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=iy(e,i,l,a);break t}else if(l!==h){h=Sn(Error(s(424)),i),xo(h),i=iy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Un(e.firstChild),en=i,qt=!0,vs=null,ti=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),l===h){i=Ui(e,i,a);break t}ze(e,i,l,a)}i=i.child}return i;case 26:return Ju(e,i),e===null?(a=h_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=mc(Et.current).createElement(a),l[Te]=i,l[pe]=e,qe(l,a,e),he(l),i.stateNode=l):i.memoizedState=h_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return tr(i),e===null&&qt&&(l=i.stateNode=l_(i.type,i.pendingProps,Et.current),en=i,ti=!0,h=ue,Ar(i.type)?(Sd=h,ue=Un(l.firstChild)):ue=h),ze(e,i,i.pendingProps.children,a),Ju(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=WS(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,en=i,ue=Un(l.firstChild),ti=!1,h=!0):h=!1),h||Es(i)),tr(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,_d(h,d)?l=null:v!==null&&_d(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=yf(e,i,gS,null,null,a),hl._currentValue=h),Ju(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=JS(a,i.pendingProps,ti),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Es(i)),null;case 13:return ry(e,i,a);case 4:return Wt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=wa(i,null,l,a):ze(e,i,l,a),i.child;case 11:return $g(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,lr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Ke(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Zg(e,i,i.type,i.pendingProps,a);case 15:return Wg(e,i,i.type,i.pendingProps,a);case 19:return ay(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=tc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Oi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Jg(e,i,a);case 24:return Ss(i),l=Ke(Re),e===null?(h=lf(),h===null&&(h=Jt,d=af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},cf(i),lr(i,Re,h)):((e.lanes&a)!==0&&(hf(e,i),jo(i,null,null,a),Ho()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),lr(i,Re,l)):(l=d.cache,lr(i,Re,l),l!==h.cache&&sf(i,[Re],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(e){e.flags|=4}function ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(i)){if(i=bn.current,i!==null&&((Ut&4194048)===Ut?ei!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ei))throw Bo=uf,Gp;e.flags|=8192}}function ec(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fo():536870912,e.lanes|=i,Da|=i)}function $o(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function wS(e,i,a){var l=i.pendingProps;switch(tf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pi(Re),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mo(i)?Li(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bp())),ie(i),null;case 26:return a=i.memoizedState,e===null?(Li(i),a!==null?(ie(i),ly(i,a)):(ie(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Li(i),ie(i),ly(i,a)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&Li(i),ie(i),i.flags&=-16777217),null;case 27:yi(i),a=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}e=dt.current,Mo(i)?Lp(i):(e=l_(h,l,a),i.stateNode=e,Li(i))}return ie(i),null;case 5:if(yi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ie(i),null}if(e=dt.current,Mo(i))Lp(i);else{switch(h=mc(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Te]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Et.current,Mo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(e.nodeValue,a)),e||Es(i)}else e=mc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Mo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=Bp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ec(i,i.updateQueue),ie(i),null;case 4:return Hn(),e===null&&dd(i.stateNode.containerInfo),ie(i),null;case 10:return Pi(i.type),ie(i),null;case 19:if(st(we),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)$o(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=$u(e),d!==null){for(i.flags|=128,$o(h,!1),e=d.updateQueue,i.updateQueue=e,ec(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)kp(a,e),a=a.sibling;return et(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>rc&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304)}else{if(!l)if(e=$u(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,ec(i,e),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ie(i),null}else 2*gn()-h.renderingStartTime>rc&&a!==536870912&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=we.current,et(we,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return ki(i),pf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),a=i.updateQueue,a!==null&&ec(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&st(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Re),ie(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bS(e,i){switch(tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Re),Hn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(we),null;case 4:return Hn(),null;case 10:return Pi(i.type),null;case 22:case 23:return ki(i),pf(),e!==null&&st(As),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Re),null;case 25:return null;default:return null}}function uy(e,i){switch(tf(i),i.tag){case 3:Pi(Re),Hn();break;case 26:case 27:case 5:yi(i);break;case 4:Hn();break;case 13:ki(i);break;case 19:st(we);break;case 10:Pi(i.type);break;case 22:case 23:ki(i),pf(),e!==null&&st(As);break;case 24:Pi(Re)}}function Zo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function pr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var b=a,L=T;try{L()}catch(Q){Zt(h,b,Q)}}}l=l.next}while(l!==d)}}catch(Q){Zt(i,i.return,Q)}}function cy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Zp(i,a)}catch(l){Zt(e,e.return,l)}}}function hy(e,i,a){a.props=ws(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function Wo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function ni(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function fy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function jf(e,i,a){try{var l=e.stateNode;QS(l,e.type,a,i),l[pe]=i}catch(h){Zt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ar(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dc));else if(l!==4&&(l===27&&Ar(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Gf(e,i,a),e=e.sibling;e!==null;)Gf(e,i,a),e=e.sibling}function nc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ar(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,i,a),e=e.sibling;e!==null;)nc(e,i,a),e=e.sibling}function my(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,l,a),i[Te]=e,i[pe]=a}catch(d){Zt(e,e.return,d)}}var zi=!1,de=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function CS(e,i){if(e=e.containerInfo,gd=Ec,e=bp(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,b=-1,L=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(b=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++L===h&&(T=v),z===d&&++Q===l&&(b=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=T===-1||b===-1?null:{start:T,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:e,selectionRange:a},Ec=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _t=ws(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(_t,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}}function gy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),l&4&&Zo(5,a);break;case 1:if(gr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=ws(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&cy(a),l&512&&Wo(a,a.return);break;case 3:if(gr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zp(e,i)}catch(v){Zt(a,a.return,v)}}break;case 27:i===null&&l&4&&my(a);case 26:case 5:gr(e,a),i===null&&l&4&&fy(a),l&512&&Wo(a,a.return);break;case 12:gr(e,a);break;case 13:gr(e,a),l&4&&vy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kS.bind(null,a),tA(e,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||de,h=zi;var d=de;zi=l,(de=i)&&!d?yr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),zi=h,de=d}break;case 30:break;default:gr(e,a)}}function yy(e){var i=e.alternate;i!==null&&(e.alternate=null,yy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&rr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,rn=!1;function Bi(e,i,a){for(a=a.child;a!==null;)_y(e,i,a),a=a.sibling}function _y(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||ni(a,i),Bi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ni(a,i);var l=ne,h=rn;Ar(a.type)&&(ne=a.stateNode,rn=!1),Bi(e,i,a),ol(a.stateNode),ne=l,rn=h;break;case 5:de||ni(a,i);case 6:if(l=ne,h=rn,ne=null,Bi(e,i,a),ne=l,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ne!==null&&(rn?(e=ne,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),pl(e)):a_(ne,a.stateNode));break;case 4:l=ne,h=rn,ne=a.stateNode.containerInfo,rn=!0,Bi(e,i,a),ne=l,rn=h;break;case 0:case 11:case 14:case 15:de||pr(2,a,i),de||pr(4,a,i),Bi(e,i,a);break;case 1:de||(ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hy(a,i,l)),Bi(e,i,a);break;case 21:Bi(e,i,a);break;case 22:de=(l=de)||a.memoizedState!==null,Bi(e,i,a),de=l;break;default:Bi(e,i,a)}}function vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(a){Zt(i,i.return,a)}}function IS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new py),i;default:throw Error(s(435,e.tag))}}function Qf(e,i){var a=IS(e);i.forEach(function(l){var h=US.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ar(T.type)){ne=T.stateNode,rn=!1;break t}break;case 5:ne=T.stateNode,rn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));_y(d,v,h),ne=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,e),i=i.sibling}var kn=null;function Ey(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(pr(3,e,e.return),Zo(3,e),pr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(de||a===null||ni(a,a.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(hn(i,e),fn(e),l&512&&(de||a===null||ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ts]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,l,a),d[Te]=e,he(d),l=d;break t;case"link":var v=m_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=m_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,he(d),l=d}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p_(h,e.type,e.stateNode):d_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(de||a===null||ni(a,a.return)),a!==null&&l&4&&jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(de||a===null||ni(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){Zt(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){Zt(e,e.return,B)}}break;case 3:if(yc=null,h=kn,kn=pc(i.containerInfo),hn(i,e),kn=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(B){Zt(e,e.return,B)}Kf&&(Kf=!1,Ty(e));break;case 4:l=kn,kn=pc(e.stateNode.containerInfo),hn(i,e),fn(e),kn=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jf=gn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=zi,Q=de;if(zi=L||h,de=Q||b,hn(i,e),de=Q,zi=L,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||zi||de||bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=b.stateNode;var X=b.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Zt(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){Zt(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qf(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qf(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(dy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ff(e);nc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=Ff(e);nc(e,T,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Ff(e);Gf(e,L,b);break;default:throw Error(s(161))}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gy(e,i.alternate,i),i=i.sibling}function bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pr(4,i,i.return),bs(i);break;case 1:ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),bs(i);break;case 27:ol(i.stateNode);case 26:case 5:ni(i,i.return),bs(i);break;case 22:i.memoizedState===null&&bs(i);break;case 30:bs(i);break;default:bs(i)}e=e.sibling}}function yr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),Zo(4,d);break;case 1:if(yr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Zt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)$p(b[h],T)}catch(L){Zt(l,l.return,L)}}a&&v&64&&cy(d),Wo(d,d.return);break;case 27:my(d);case 26:case 5:yr(h,d,a),a&&l===null&&v&4&&fy(d),Wo(d,d.return);break;case 12:yr(h,d,a);break;case 13:yr(h,d,a),a&&v&4&&vy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),Wo(d,d.return);break;case 30:break;default:yr(h,d,a)}i=i.sibling}}function Yf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Uo(a))}function Xf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e))}function ii(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(e,i,a,l),i=i.sibling}function Sy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i,a,l),h&2048&&Zo(9,i);break;case 1:ii(e,i,a,l);break;case 3:ii(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){ii(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Zt(i,i.return,b)}}else ii(e,i,a,l);break;case 13:ii(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ii(e,i,a,l):Jo(e,i):d._visibility&2?ii(e,i,a,l):(d._visibility|=2,ba(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Yf(v,i);break;case 24:ii(e,i,a,l),h&2048&&Xf(i.alternate,i);break;default:ii(e,i,a,l)}}function ba(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,b=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:ba(d,v,T,b,h),Zo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ba(d,v,T,b,h):Jo(d,v):(Q._visibility|=2,ba(d,v,T,b,h)),h&&L&2048&&Yf(v.alternate,v);break;case 24:ba(d,v,T,b,h),h&&L&2048&&Xf(v.alternate,v);break;default:ba(d,v,T,b,h)}i=i.sibling}}function Jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Jo(a,l),h&2048&&Yf(l.alternate,l);break;case 24:Jo(a,l),h&2048&&Xf(l.alternate,l);break;default:Jo(a,l)}i=i.sibling}}var tl=8192;function Ca(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 26:Ca(e),e.flags&tl&&e.memoizedState!==null&&dA(kn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e);break;case 3:case 4:var i=kn;kn=pc(e.stateNode.containerInfo),Ca(e),kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,Ca(e),tl=i):Ca(e));break;default:Ca(e)}}function Ry(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function el(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,by(l,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&pr(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ic(e)):el(e);break;default:el(e)}}function ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,by(l,e)}Ry(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pr(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}e=e.sibling}}function by(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(yy(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}var DS={getCacheForType:function(e){var i=Ke(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},OS=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Ut=0,Kt=0,dn=null,_r=!1,Ia=!1,$f=!1,qi=0,ce=0,vr=0,Cs=0,Zf=0,Cn=0,Da=0,nl=null,sn=null,Wf=!1,Jf=0,rc=1/0,sc=null,Er=null,Be=0,Tr=null,Oa=null,Na=0,td=0,ed=null,Cy=null,il=0,nd=null;function mn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(K.T!==null){var e=_a;return e!==0?e:ud()}return nr()}function Iy(){Cn===0&&(Cn=(Ut&536870912)===0||qt?ho():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Cn}function pn(e,i,a){(e===Jt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Sr(e,Ut,Cn,!1)),vi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Cs|=a),ce===4&&Sr(e,Ut,Cn,!1)),ri(e))}function Dy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Jr(e,i),h=l?MS(e,i):sd(e,i,!0),d=l;do{if(h===0){Ia&&!l&&Sr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!NS(a)){h=sd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=nl;var b=T.current.memoizedState.isDehydrated;if(b&&(Va(T,v).flags|=256),v=sd(T,v,!1),v!==2){if($f&&!b){T.errorRecoveryDisabledLanes|=d,Cs|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(e,0),Sr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Sr(l,i,Cn,!_r);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Jf+300-gn(),10<h)){if(Sr(l,i,Cn,!_r),Xs(l,0,!0)!==0)break t;l.timeoutHandle=r_(Oy.bind(null,l,a,sn,sc,Wf,i,Cn,Cs,Da,_r,d,2,-0,0),h);break t}Oy(l,a,sn,sc,Wf,i,Cn,Cs,Da,_r,d,0,-0,0)}}break}while(!0);ri(e)}function Oy(e,i,a,l,h,d,v,T,b,L,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(cl={stylesheets:null,count:0,unsuspend:fA},Ay(i),X=mA(),X!==null)){e.cancelPendingCommit=X(Uy.bind(null,e,i,d,a,l,h,v,T,b,Q,1,z,B)),Sr(e,d,v,!L);return}Uy(e,i,d,a,l,h,v,T,b)}function NS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sr(e,i,a,l){i&=~Zf,i&=~Cs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&jn(e,a,i)}function ac(){return(Gt&6)===0?(rl(0),!1):!0}function id(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,Mi=Ts=null,Ef(e),Ra=null,Yo=0,e=Dt;for(;e!==null;)uy(e.alternate,e),e=e.return;Dt=null}}function Va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),id(),Jt=e,Dt=a=Oi(e.current,null),Ut=i,Kt=0,dn=null,_r=!1,Ia=Jr(e,i),$f=!1,Da=Cn=Zf=Cs=vr=ce=0,sn=nl=null,Wf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return qi=i,Iu(),a}function Ny(e,i){bt=null,K.H=Qu,i===zo||i===Uu?(i=Yp(),Kt=3):i===Gp?(i=Yp(),Kt=4):Kt=i===Xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Dt===null&&(ce=1,Wu(e,Sn(i,e.current)))}function Vy(){var e=K.H;return K.H=Qu,e===null?Qu:e}function My(){var e=K.A;return K.A=DS,e}function rd(){ce=4,_r||(Ut&4194048)!==Ut&&bn.current!==null||(Ia=!0),(vr&134217727)===0&&(Cs&134217727)===0||Jt===null||Sr(Jt,Ut,Cn,!1)}function sd(e,i,a){var l=Gt;Gt|=2;var h=Vy(),d=My();(Jt!==e||Ut!==i)&&(sc=null,Va(e,i)),i=!1;var v=ce;t:do try{if(Kt!==0&&Dt!==null){var T=Dt,b=dn;switch(Kt){case 8:id(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var L=Kt;if(Kt=0,dn=null,Ma(e,T,b,L),a&&Ia){v=0;break t}break;default:L=Kt,Kt=0,dn=null,Ma(e,T,b,L)}}VS(),v=ce;break}catch(Q){Ny(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Mi=Ts=null,Gt=l,K.H=h,K.A=d,Dt===null&&(Jt=null,Ut=0,Iu()),v}function VS(){for(;Dt!==null;)Py(Dt)}function MS(e,i){var a=Gt;Gt|=2;var l=Vy(),h=My();Jt!==e||Ut!==i?(sc=null,rc=gn()+500,Va(e,i)):Ia=Jr(e,i);t:do try{if(Kt!==0&&Dt!==null){i=Dt;var d=dn;e:switch(Kt){case 1:Kt=0,dn=null,Ma(e,i,d,1);break;case 2:case 9:if(Kp(d)){Kt=0,dn=null,xy(i);break}i=function(){Kt!==2&&Kt!==9||Jt!==e||(Kt=7),ri(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Kp(d)?(Kt=0,dn=null,xy(i)):(Kt=0,dn=null,Ma(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||g_(v)){Kt=0,dn=null;var b=T.sibling;if(b!==null)Dt=b;else{var L=T.return;L!==null?(Dt=L,oc(L)):Dt=null}break e}}Kt=0,dn=null,Ma(e,i,d,5);break;case 6:Kt=0,dn=null,Ma(e,i,d,6);break;case 8:id(),ce=6;break t;default:throw Error(s(462))}}PS();break}catch(Q){Ny(e,Q)}while(!0);return Mi=Ts=null,K.H=l,K.A=h,Gt=a,Dt!==null?0:(Jt=null,Ut=0,Iu(),ce)}function PS(){for(;Dt!==null&&!oo();)Py(Dt)}function Py(e){var i=oy(e.alternate,e,qi);e.memoizedProps=e.pendingProps,i===null?oc(e):Dt=i}function xy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:Ef(i);default:uy(a,i),i=Dt=kp(i,qi),i=oy(a,i,qi)}e.memoizedProps=e.pendingProps,i===null?oc(e):Dt=i}function Ma(e,i,a,l){Mi=Ts=null,Ef(i),Ra=null,Yo=0;var h=i.return;try{if(AS(e,h,i,a,Ut)){ce=1,Wu(e,Sn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ce=1,Wu(e,Sn(a,e.current)),Dt=null;return}i.flags&32768?(qt||l===1?e=!0:Ia||(Ut&536870912)!==0?e=!1:(_r=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(i,e)):oc(i)}function oc(e){var i=e;do{if((i.flags&32768)!==0){ky(i,_r);return}e=i.return;var a=wS(i.alternate,i,qi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function ky(e,i){do{var a=bS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function Uy(e,i,a,l,h,d,v,T,b){e.cancelPendingCommit=null;do lc();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yh,mo(e,a,d,v,T,b),e===Jt&&(Dt=Jt=null,Ut=0),Oa=i,Tr=e,Na=a,td=d,ed=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LS(Xr,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=rt.p,rt.p=2,v=Gt,Gt|=4;try{CS(e,i,a)}finally{Gt=v,rt.p=h,K.T=l}}Be=1,Ly(),zy(),By()}}function Ly(){if(Be===1){Be=0;var e=Tr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=Gt;Gt|=4;try{Ey(i,e);var d=yd,v=bp(e.containerInfo),T=d.focusedElem,b=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&wp(T.ownerDocument.documentElement,T)){if(b!==null&&jh(T)){var L=b.start,Q=b.end;if(Q===void 0&&(Q=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),_t=T.textContent.length,pt=Math.min(b.start,_t),$t=b.end===void 0?pt:Math.min(b.end,_t);!B.extend&&pt>$t&&(v=$t,$t=pt,pt=v);var P=Rp(T,pt),O=Rp(T,$t);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=X.createRange();U.setStart(P.node,P.offset),B.removeAllRanges(),pt>$t?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(X=[],B=T;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!gd,yd=gd=null}finally{Gt=h,rt.p=l,K.T=a}}e.current=i,Be=2}}function zy(){if(Be===2){Be=0;var e=Tr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=Gt;Gt|=4;try{gy(e,i.alternate,i)}finally{Gt=h,rt.p=l,K.T=a}}Be=3}}function By(){if(Be===4||Be===3){Be=0,iu();var e=Tr,i=Oa,a=Na,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,Oa=Tr=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Er=null),$s(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=rt.p,rt.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,rt.p=h}}(Na&3)!==0&&lc(),ri(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===nd?il++:(il=0,nd=e):il=0,rl(0)}}function qy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Uo(i)))}function lc(e){return Ly(),zy(),By(),Hy()}function Hy(){if(Be!==5)return!1;var e=Tr,i=td;td=0;var a=$s(Na),l=K.T,h=rt.p;try{rt.p=32>a?32:a,K.T=null,a=ed,ed=null;var d=Tr,v=Na;if(Be=0,Oa=Tr=null,Na=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,wy(d.current),Sy(d,d.current,v,a),Gt=T,rl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{rt.p=h,K.T=l,qy(e,i)}}function jy(e,i,a){i=Sn(a,i),i=Pf(e.stateNode,i,2),e=hr(e,i,2),e!==null&&(vi(e,2),ri(e))}function Zt(e,i,a){if(e.tag===3)jy(e,e,a);else for(;i!==null;){if(i.tag===3){jy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){e=Sn(a,e),a=Qg(2),l=hr(i,a,2),l!==null&&(Yg(a,l,i,e),vi(l,2),ri(l));break}}i=i.return}}function ad(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new OS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||($f=!0,h.add(a),e=xS.bind(null,e,i,a),i.then(e,e))}function xS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Ut&a)===a&&(ce===4||ce===3&&(Ut&62914560)===Ut&&300>gn()-Jf?(Gt&2)===0&&Va(e,0):Zf|=a,Da===Ut&&(Da=0)),ri(e)}function Fy(e,i){i===0&&(i=fo()),e=ma(e,i),e!==null&&(vi(e,i),ri(e))}function kS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Fy(e,a)}function US(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Fy(e,a)}function LS(e,i){return Qr(e,i)}var uc=null,Pa=null,od=!1,cc=!1,ld=!1,Is=0;function ri(e){e!==Pa&&e.next===null&&(Pa===null?uc=Pa=e:Pa=Pa.next=e),cc=!0,od||(od=!0,BS())}function rl(e,i){if(!ld&&cc){ld=!0;do for(var a=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Yy(l,d))}else d=Ut,d=Xs(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jr(l,d)||(a=!0,Yy(l,d));l=l.next}while(a);ld=!1}}function zS(){Gy()}function Gy(){cc=od=!1;var e=0;Is!==0&&(YS()&&(e=Is),Is=0);for(var i=gn(),a=null,l=uc;l!==null;){var h=l.next,d=Ky(l,i);d===0?(l.next=null,a===null?uc=h:a.next=h,h===null&&(Pa=a)):(a=l,(e!==0||(d&3)!==0)&&(cc=!0)),l=h}rl(e)}function Ky(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,b=h[v];b===-1?((T&a)===0||(T&l)!==0)&&(h[v]=co(T,i)):b<=i&&(e.expiredLanes|=T),d&=~T}if(i=Jt,a=Ut,a=Xs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Yr(l),$s(a)){case 2:case 8:a=Qs;break;case 32:a=Xr;break;case 268435456:a=Ys;break;default:a=Xr}return l=Qy.bind(null,e),a=Qr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Yr(l),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var l=Ut;return l=Xs(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dy(e,l,i),Ky(e,gn()),e.callbackNode!=null&&e.callbackNode===a?Qy.bind(null,e):null)}function Yy(e,i){if(lc())return null;Dy(e,i,!0)}function BS(){$S(function(){(Gt&6)!==0?Qr(lo,zS):Gy()})}function ud(){return Is===0&&(Is=ho()),Is}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function $y(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function qS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Xy((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?Xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ia("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var b=v?$y(h,v):new FormData(h);Df(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(T.preventDefault(),b=v?$y(h,v):new FormData(h),Df(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var cd=0;cd<Qh.length;cd++){var hd=Qh[cd],HS=hd.toLowerCase(),jS=hd[0].toUpperCase()+hd.slice(1);xn(HS,"on"+jS)}xn(Dp,"onAnimationEnd"),xn(Op,"onAnimationIteration"),xn(Np,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(aS,"onTransitionRun"),xn(oS,"onTransitionStart"),xn(lS,"onTransitionCancel"),xn(Vp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function Zy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],b=T.instance,L=T.currentTarget;if(T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=b}else for(v=0;v<l.length;v++){if(T=l[v],b=T.instance,L=T.currentTarget,T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Q){Zu(Q)}h.currentTarget=null,d=b}}}}function Ot(e,i){var a=i[go];a===void 0&&(a=i[go]=new Set);var l=e+"__bubble";a.has(l)||(Wy(i,e,2,!1),a.add(l))}function fd(e,i,a){var l=0;i&&(l|=4),Wy(a,e,l,i)}var hc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[hc]){e[hc]=!0,yo.forEach(function(a){a!=="selectionchange"&&(FS.has(a)||fd(a,!1,e),fd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[hc]||(i[hc]=!0,fd("selectionchange",!1,i))}}function Wy(e,i,a,l){switch(S_(i)){case 2:var h=yA;break;case 8:h=_A;break;default:h=Cd}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function md(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=d=v;continue t}T=T.parentNode}}l=l.return}du(function(){var L=d,Q=vn(a),X=[];t:{var z=Mp.get(e);if(z!==void 0){var B=ia,_t=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":B=ua;break;case"focusin":_t="focus",B=aa;break;case"focusout":_t="blur",B=aa;break;case"beforeblur":case"afterblur":B=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Tu;break;case Dp:case Op:case Np:B=oa;break;case Vp:B=Au;break;case"scroll":case"scrollend":B=mu;break;case"wheel":B=ca;break;case"copy":case"cut":case"paste":B=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Do;break;case"toggle":case"beforetoggle":B=wu}var pt=(i&4)!==0,$t=!pt&&(e==="scroll"||e==="scrollend"),P=pt?z!==null?z+"Capture":null:z;pt=[];for(var O=L,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||P===null||(Y=os(O,P),Y!=null&&pt.push(al(O,Y,U))),$t)break;O=O.return}0<pt.length&&(z=new B(z,_t,null,a,Q),X.push({event:z,listeners:pt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ri&&(_t=a.relatedTarget||a.fromElement)&&(Ei(_t)||_t[yn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(_t=a.relatedTarget||a.toElement,B=L,_t=_t?Ei(_t):null,_t!==null&&($t=u(_t),pt=_t.tag,_t!==$t||pt!==5&&pt!==27&&pt!==6)&&(_t=null)):(B=null,_t=L),B!==_t)){if(pt=Tn,Y="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Do,Y="onPointerLeave",P="onPointerEnter",O="pointer"),$t=B==null?z:Gn(B),U=_t==null?z:Gn(_t),z=new pt(Y,O+"leave",B,a,Q),z.target=$t,z.relatedTarget=U,Y=null,Ei(Q)===L&&(pt=new pt(P,O+"enter",_t,a,Q),pt.target=U,pt.relatedTarget=$t,Y=pt),$t=Y,B&&_t)e:{for(pt=B,P=_t,O=0,U=pt;U;U=xa(U))O++;for(U=0,Y=P;Y;Y=xa(Y))U++;for(;0<O-U;)pt=xa(pt),O--;for(;0<U-O;)P=xa(P),U--;for(;O--;){if(pt===P||P!==null&&pt===P.alternate)break e;pt=xa(pt),P=xa(P)}pt=null}else pt=null;B!==null&&Jy(X,z,B,pt,!1),_t!==null&&$t!==null&&Jy(X,$t,_t,pt,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=_p;else if(Ae(z))if(vp)lt=iS;else{lt=eS;var It=tS}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&So(L.elementType)&&(lt=_p):lt=nS;if(lt&&(lt=lt(e,L))){Di(X,lt,a,Q);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&ar(z,"number",z.value)}switch(It=L?Gn(L):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(ha=It,Fh=L,Vo=null);break;case"focusout":Vo=Fh=ha=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Cp(X,a,Q);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":Cp(X,a,Q)}var ut;if(Wn)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else xt?H(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(_&&a.locale!=="ko"&&(xt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&xt&&(ut=Ro()):(Yn=Q,or="value"in Yn?Yn.value:Yn.textContent,xt=!0)),It=fc(L,gt),0<It.length&&(gt=new Co(gt,e,null,a,Q),X.push({event:gt,listeners:It}),ut?gt.data=ut:(ut=nt(a),ut!==null&&(gt.data=ut)))),(ut=p?Se(e,a):kt(e,a))&&(gt=fc(L,"onBeforeInput"),0<gt.length&&(It=new Co("onBeforeInput","beforeinput",null,a,Q),X.push({event:It,listeners:gt}),It.data=ut)),qS(X,e,L,a,Q)}Zy(X,i)})}function al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function fc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(e,a),h!=null&&l.unshift(al(e,h,d)),h=os(e,i),h!=null&&l.push(al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,b=T.alternate,L=T.stateNode;if(T=T.tag,b!==null&&b===l)break;T!==5&&T!==26&&T!==27||L===null||(b=L,h?(L=os(a,d),L!=null&&v.unshift(al(a,L,b))):h||(L=os(a,d),L!=null&&v.push(al(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var GS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(KS,"")}function e_(e,i){return i=t_(i),t_(e)===i}function dc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(e,""+l);break;case"className":Kn(e,"class",l);break;case"tabIndex":Kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(e,a,l);break;case"style":To(e,l,d);break;case"data":if(i!=="object"){Kn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=dc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uh.get(a)||a,sr(e,a,l))}}function pd(e,i,a,l,h,d){switch(a){case"style":To(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):sr(e,a,l)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,b=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":b=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xt(e,i,l,Q,a,null)}}rs(e,d,T,b,L,v,h,!1),ea(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ai(e,!!l,i,!1):a!=null&&Ai(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}ss(e,l,h,d),ea(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,b,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<sl.length;l++)Ot(sl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,L,l,a,null)}return;default:if(So(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&pd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function QS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,b=null,L=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(B)||Xt(e,i,B,null,l,X)}}for(var z in l){var B=l[z];if(X=a[z],l.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Xt(e,i,z,B,l,X)}}ln(e,v,T,b,L,Q,d,h);return;case"select":B=v=T=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,b)}for(h in l)if(d=l[h],b=a[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==b&&Xt(e,i,h,d,l,b)}i=T,a=v,l=B,z!=null?Ai(e,!!a,z,!1):!!l!=!!a&&(i!=null?Ai(e,!!a,i,!0):Ai(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Qt(e,z,B);return;case"option":for(var _t in a)if(z=a[_t],a.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Xt(e,i,_t,null,l,z)}for(b in l)if(z=l[b],B=a[b],l.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,b,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!l.hasOwnProperty(pt)&&Xt(e,i,pt,null,l,z);for(L in l)if(z=l[L],B=a[L],l.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,L,z,l,B)}return;default:if(So(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!l.hasOwnProperty($t)&&pd(e,i,$t,void 0,l,z);for(Q in l)z=l[Q],B=a[Q],!l.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||pd(e,i,Q,z,l,B);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&Xt(e,i,P,null,l,z);for(X in l)z=l[X],B=a[X],!l.hasOwnProperty(X)||z===B||z==null&&B==null||Xt(e,i,X,z,l,B)}var gd=null,yd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function _d(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=null;function YS(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(ZS)}:r_;function ZS(e){setTimeout(function(){throw e})}function Ar(e){return e==="head"}function a_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&ol(v.documentElement),a&2&&ol(v.body),a&4)for(a=v.head,ol(a),v=a.firstChild;v;){var T=v.nextSibling,b=v.nodeName;v[ts]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);pl(i)}function Ed(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ts])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function JS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function tA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Sd=null;function o_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function l_(e,i,a){switch(i=mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);rr(e)}var In=new Map,u_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=rt.d;rt.d={f:eA,r:nA,D:iA,C:rA,L:sA,m:aA,X:lA,S:oA,M:uA};function eA(){var e=Hi.f(),i=ac();return e||i}function nA(e){var i=Fn(e);i!==null&&i.tag===5&&i.type==="form"?Dg(i):Hi.r(e)}var ka=typeof document>"u"?null:document;function c_(e,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=ge(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qe(i,"link",e),he(i),l.head.appendChild(i)))}}function iA(e){Hi.D(e),c_("dns-prefetch",e,null)}function rA(e,i){Hi.C(e,i),c_("preconnect",e,i)}function sA(e,i,a){Hi.L(e,i,a);var l=ka;if(l&&e&&i){var h='link[rel="preload"][as="'+ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(i){case"style":d=Ua(e);break;case"script":d=La(e)}In.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),In.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ll(d))||i==="script"&&l.querySelector(ul(d))||(i=l.createElement("link"),qe(i,"link",e),he(i),l.head.appendChild(i)))}}function aA(e,i){Hi.m(e,i);var a=ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=La(e)}if(!In.has(d)&&(e=E({rel:"modulepreload",href:e},i),In.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ul(d)))return}l=a.createElement("link"),qe(l,"link",e),he(l),a.head.appendChild(l)}}}function oA(e,i,a){Hi.S(e,i,a);var l=ka;if(l&&e){var h=We(l).hoistableStyles,d=Ua(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ll(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=In.get(d))&&Ad(e,a);var b=v=l.createElement("link");he(b),qe(b,"link",e),b._p=new Promise(function(L,Q){b.onload=L,b.onerror=Q}),b.addEventListener("load",function(){T.loading|=1}),b.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lA(e,i){Hi.X(e,i);var a=ka;if(a&&e){var l=We(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(e=E({src:e,async:!0},i),(i=In.get(h))&&Rd(e,i),d=a.createElement("script"),he(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uA(e,i){Hi.M(e,i);var a=ka;if(a&&e){var l=We(a).hoistableScripts,h=La(e),d=l.get(h);d||(d=a.querySelector(ul(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=In.get(h))&&Rd(e,i),d=a.createElement("script"),he(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h_(e,i,a,l){var h=(h=Et.current)?pc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=We(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var d=We(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ll(e)))&&!d._p&&(v.instance=d,v.state.loading=5),In.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(e,a),d||cA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=La(a),a=We(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+ge(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function cA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qe(i,"link",a),he(i),e.head.appendChild(i))}function La(e){return'[src="'+ge(e)+'"]'}function ul(e){return"script[async]"+e}function d_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return i.instance=l,he(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),qe(l,"style",h),gc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ua(a.href);var d=e.querySelector(ll(h));if(d)return i.state.loading|=4,i.instance=d,he(d),d;l=f_(a),(h=In.get(h))&&Ad(l,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),qe(d,"link",l),i.state.loading|=4,gc(d,a.precedence,e),i.instance=d;case"script":return d=La(a.src),(h=e.querySelector(ul(d)))?(i.instance=h,he(h),h):(l=a,(h=In.get(d))&&(l=E({},a),Rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gc(l,a.precedence,e));return i.instance}function gc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ad(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var yc=null;function m_(e,i,a){if(yc===null){var l=new Map,h=yc=new Map;h.set(a,l)}else h=yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ts]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function p_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function hA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var cl=null;function fA(){}function dA(e,i,a){if(cl===null)throw Error(s(475));var l=cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ua(a.href),d=e.querySelector(ll(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=_c.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,he(d);return}d=e.ownerDocument||e,a=f_(a),(h=In.get(h))&&Ad(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),qe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=_c.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function mA(){if(cl===null)throw Error(s(475));var e=cl;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function _c(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,i.forEach(pA,e),vc=null,_c.call(e))}function pA(e,i){if(!(i.state.loading&4)){var a=vc.get(e);if(a)var l=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var hl={$$typeof:it,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function gA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y_(e,i,a,l,h,d,v,T,b,L,Q,X){return e=new gA(e,i,a,v,T,b,L,X),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cf(d),e}function __(e){return e?(e=pa,e):pa}function v_(e,i,a,l,h,d){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hr(e,l,i),a!==null&&(pn(a,e,i),qo(a,e,i))}function E_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function bd(e,i){E_(e,i),(e=e.alternate)&&E_(e,i)}function T_(e){if(e.tag===13){var i=ma(e,67108864);i!==null&&pn(i,e,67108864),bd(e,67108864)}}var Ec=!0;function yA(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=2,Cd(e,i,a,l)}finally{rt.p=d,K.T=h}}function _A(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=8,Cd(e,i,a,l)}finally{rt.p=d,K.T=h}}function Cd(e,i,a,l){if(Ec){var h=Id(l);if(h===null)md(e,i,l,Tc,a),A_(e,l);else if(EA(h,e,i,a,l))l.stopPropagation();else if(A_(e,l),i&4&&-1<vA.indexOf(e)){for(;h!==null;){var d=Fn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var b=1<<31-Ge(v);T.entanglements[1]|=b,v&=~b}ri(d),(Gt&6)===0&&(rc=gn()+500,rl(0))}}break;case 13:T=ma(d,2),T!==null&&pn(T,d,2),ac(),bd(d,2)}if(d=Id(l),d===null&&md(e,i,l,Tc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else md(e,i,l,null,a)}}function Id(e){return e=vn(e),Dd(e)}var Tc=null;function Dd(e){if(Tc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Tc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nh()){case lo:return 2;case Qs:return 8;case Xr:case Vh:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Od=!1,Rr=null,wr=null,br=null,fl=new Map,dl=new Map,Cr=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,i){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(i.pointerId)}}function ml(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Fn(i),i!==null&&T_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function EA(e,i,a,l,h){switch(i){case"focusin":return Rr=ml(Rr,e,i,a,l,h),!0;case"dragenter":return wr=ml(wr,e,i,a,l,h),!0;case"mouseover":return br=ml(br,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return fl.set(d,ml(fl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,dl.set(d,ml(dl.get(d)||null,e,i,a,l,h)),!0}return!1}function R_(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,au(e.priority,function(){if(a.tag===13){var l=mn();l=er(l);var h=ma(a,l);h!==null&&pn(h,a,l),bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return i=Fn(a),i!==null&&T_(i),e.blockedOn=a,!1;i.shift()}return!0}function w_(e,i,a){Sc(e)&&a.delete(i)}function TA(){Od=!1,Rr!==null&&Sc(Rr)&&(Rr=null),wr!==null&&Sc(wr)&&(wr=null),br!==null&&Sc(br)&&(br=null),fl.forEach(w_),dl.forEach(w_)}function Ac(e,i){e.blockedOn===i&&(e.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TA)))}var Rc=null;function b_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Dd(l||a)===null)continue;break}var d=Fn(a);d!==null&&(e.splice(i,3),i-=3,Df(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function pl(e){function i(b){return Ac(b,e)}Rr!==null&&Ac(Rr,e),wr!==null&&Ac(wr,e),br!==null&&Ac(br,e),fl.forEach(i),dl.forEach(i);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Cr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||b_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(Dd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),b_(a)}}}function Nd(e){this._internalRoot=e}wc.prototype.render=Nd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();v_(a,l,e,i,null,null)},wc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;v_(e.current,2,null,e,null,null),ac(),i[yn]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var i=nr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,e),a===0&&R_(e)}};var C_=t.version;if(C_!=="19.1.1")throw Error(s(527,C_,"19.1.1"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var SA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{le=bc.inject(SA),Ft=bc}catch{}}return yl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=jg,d=Fg,v=Gg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=y_(e,1,!1,null,null,a,l,h,d,v,T,null),e[yn]=i.current,dd(e),new Nd(i)},yl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=jg,v=Fg,T=Gg,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=y_(e,1,!0,i,a??null,l,h,d,v,T,b,L),i.context=__(null),a=i.current,l=mn(),l=er(l),h=cr(l),h.callback=null,hr(a,h,l),a=l,i.current.lanes=a,vi(i,a),ri(i),e[yn]=i.current,dd(e),new wc(i)},yl.version="19.1.1",yl}var U_;function VA(){if(U_)return Pd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=NA(),Pd.exports}var MA=VA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function PA(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=zs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wd("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Vl(u))}function s(o,u){qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kA(t,n,s,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xA(){return Math.random().toString(36).substring(2,10)}function z_(r,t){return{usr:r.state,key:r.key,idx:t}}function Wd(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?zs(t):t,state:n,key:t&&t.key||s||xA()}}function Vl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function zs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function kA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let j=E(),W=j==null?null:j-y;y=j,g&&g({action:m,location:Z.location,delta:W})}function w(j,W){m="PUSH";let at=Wd(Z.location,j,W);n&&n(at,j),y=E()+1;let it=z_(at,y),Rt=Z.createHref(at);try{f.pushState(it,"",Rt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(Rt)}u&&g&&g({action:m,location:Z.location,delta:1})}function q(j,W){m="REPLACE";let at=Wd(Z.location,j,W);n&&n(at,j),y=E();let it=z_(at,y),Rt=Z.createHref(at);f.replaceState(it,"",Rt),u&&g&&g({action:m,location:Z.location,delta:0})}function F(j){return UA(j)}let Z={get action(){return m},get location(){return r(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(L_,A),g=j,()=>{o.removeEventListener(L_,A),g=null}},createHref(j){return t(o,j)},createURL:F,encodeLocation(j){let W=F(j);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:q,go(j){return f.go(j)}};return Z}function UA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),se(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Vl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pE(r,t,n="/"){return LA(r,t,n,!1)}function LA(r,t,n,s){let o=typeof t=="string"?zs(t):t,u=Yi(o.pathname||"/",n);if(u==null)return null;let f=gE(r);zA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=$A(u);m=YA(f[g],y,s)}return m}function gE(r,t=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(se(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Ki([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gE(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:KA(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of yE(u.path))o(u,f,m)}),t}function yE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=yE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function zA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:QA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var BA=/^:[\w-]+$/,qA=3,HA=2,jA=1,FA=10,GA=-2,B_=r=>r==="*";function KA(r,t){let n=r.split("/"),s=n.length;return n.some(B_)&&(s+=GA),t&&(s+=HA),n.filter(o=>!B_(o)).reduce((o,u)=>o+(BA.test(u)?qA:u===""?jA:FA),s)}function QA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function YA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ki([u,A.pathname]),pathnameBase:t1(Ki([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Ki([u,A.pathnameBase]))}return f}function Kc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=XA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},w)=>{if(E==="*"){let F=m[w]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const q=m[w];return A&&!q?y[E]=void 0:y[E]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function XA(r,t=!1,n=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function $A(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Yi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function ZA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?zs(r):r;return{pathname:n?n.startsWith("/")?n:WA(n,t):t,search:e1(s),hash:n1(o)}}function WA(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ld(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _E(r){let t=JA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function vE(r,t,n,s=!1){let o;typeof r=="string"?o=zs(r):(o={...r},se(!o.pathname||!o.pathname.includes("?"),Ld("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),Ld("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),Ld("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?t[A]:"/"}let g=ZA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),t1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),e1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,n1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function i1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var r1=["GET",...EE];new Set(r1);var to=G.createContext(null);to.displayName="DataRouter";var dh=G.createContext(null);dh.displayName="DataRouterState";G.createContext(!1);var TE=G.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var s1=G.createContext(new Map);s1.displayName="Fetchers";var a1=G.createContext(null);a1.displayName="Await";var pi=G.createContext(null);pi.displayName="Navigation";var jl=G.createContext(null);jl.displayName="Location";var gi=G.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var wm=G.createContext(null);wm.displayName="RouteError";function o1(r,{relative:t}={}){se(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(pi),{hash:o,pathname:u,search:f}=Gl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ki([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Fl(){return G.useContext(jl)!=null}function Bs(){return se(Fl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(jl).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){G.useContext(pi).static||G.useLayoutEffect(r)}function l1(){let{isDataRoute:r}=G.useContext(gi);return r?A1():u1()}function u1(){se(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(to),{basename:t,navigator:n}=G.useContext(pi),{matches:s}=G.useContext(gi),{pathname:o}=Bs(),u=JSON.stringify(_E(s)),f=G.useRef(!1);return AE(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(qn(f.current,SE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=vE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ki([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}var c1=G.createContext(null);function h1(r){let t=G.useContext(gi).outlet;return t&&G.createElement(c1.Provider,{value:r},t)}function Gl(r,{relative:t}={}){let{matches:n}=G.useContext(gi),{pathname:s}=Bs(),o=JSON.stringify(_E(n));return G.useMemo(()=>vE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function f1(r,t){return RE(r,t)}function RE(r,t,n,s){se(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(pi),{matches:u}=G.useContext(gi),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let W=E&&E.path||"";wE(g,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let A=Bs(),w;if(t){let W=typeof t=="string"?zs(t):t;se(y==="/"||W.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),w=W}else w=A;let q=w.pathname||"/",F=q;if(y!=="/"){let W=y.replace(/^\//,"").split("/");F="/"+q.replace(/^\//,"").split("/").slice(W.length).join("/")}let Z=pE(r,{pathname:F});qn(E||Z!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qn(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=y1(Z&&Z.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:Ki([y,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:Ki([y,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,s);return t&&j?G.createElement(jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function d1(){let r=S1(),t=i1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var m1=G.createElement(d1,null),p1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(gi.Provider,{value:this.props.routeContext},G.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g1({routeContext:r,match:t,children:n}){let s=G.useContext(to);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(gi.Provider,{value:r},n)}function y1(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);se(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=n,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let A,w=!1,q=null,F=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,q=y.route.errorElement||m1,f&&(m<0&&E===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,F=null):m===E&&(w=!0,F=y.route.hydrateFallbackElement||null)));let Z=t.concat(o.slice(0,E+1)),j=()=>{let W;return A?W=q:w?W=F:y.route.Component?W=G.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,G.createElement(g1,{match:y,routeContext:{outlet:g,matches:Z,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(p1,{location:n.location,revalidation:n.revalidation,component:q,error:A,children:j(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):j()},null)}function bm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _1(r){let t=G.useContext(to);return se(t,bm(r)),t}function v1(r){let t=G.useContext(dh);return se(t,bm(r)),t}function E1(r){let t=G.useContext(gi);return se(t,bm(r)),t}function Cm(r){let t=E1(r),n=t.matches[t.matches.length-1];return se(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function T1(){return Cm("useRouteId")}function S1(){let r=G.useContext(wm),t=v1("useRouteError"),n=Cm("useRouteError");return r!==void 0?r:t.errors?.[n]}function A1(){let{router:r}=_1("useNavigate"),t=Cm("useNavigate"),n=G.useRef(!1);return AE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{qn(n.current,SE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var q_={};function wE(r,t,n){!t&&!q_[r]&&(q_[r]=!0,qn(!1,n))}G.memo(R1);function R1({routes:r,future:t,state:n}){return RE(r,void 0,n,t)}function w1(r){return h1(r.context)}function vl(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){se(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=zs(n));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:w="default"}=n,q=G.useMemo(()=>{let F=Yi(g,f);return F==null?null:{location:{pathname:F,search:y,hash:E,state:A,key:w},navigationType:s}},[f,g,y,E,A,w,s]);return qn(q!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:G.createElement(pi.Provider,{value:m},G.createElement(jl.Provider,{children:t,value:q}))}function C1({children:r,location:t}){return f1(Jd(r),t)}function Jd(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,Jd(s.props.children,u));return}se(s.type===vl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Jd(s.props.children,u)),n.push(f)}),n}var Pc="get",xc="application/x-www-form-urlencoded";function mh(r){return r!=null&&typeof r.tagName=="string"}function I1(r){return mh(r)&&r.tagName.toLowerCase()==="button"}function D1(r){return mh(r)&&r.tagName.toLowerCase()==="form"}function O1(r){return mh(r)&&r.tagName.toLowerCase()==="input"}function N1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function V1(r,t){return r.button===0&&(!t||t==="_self")&&!N1(r)}var Cc=null;function M1(){if(Cc===null)try{new FormData(document.createElement("form"),0),Cc=!1}catch{Cc=!0}return Cc}var P1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(r){return r!=null&&!P1.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):r}function x1(r,t){let n,s,o,u,f;if(D1(r)){let m=r.getAttribute("action");s=m?Yi(m,t):null,n=r.getAttribute("method")||Pc,o=zd(r.getAttribute("enctype"))||xc,u=new FormData(r)}else if(I1(r)||O1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Yi(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Pc,o=zd(r.getAttribute("formenctype"))||zd(m.getAttribute("enctype"))||xc,u=new FormData(m,r),!M1()){let{name:y,type:E,value:A}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pc,s=null,o=xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Im(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function k1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Yi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function U1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function z1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await U1(u,n);return f.links?f.links():[]}return[]}));return j1(s.flat(1).filter(L1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H_(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function B1(r,t,{includeHydrateFallback:n}={}){return q1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function q1(r){return[...new Set(r)]}function H1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function j1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(H1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function bE(){let r=G.useContext(to);return Im(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function F1(){let r=G.useContext(dh);return Im(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dm=G.createContext(void 0);Dm.displayName="FrameworkContext";function CE(){let r=G.useContext(Dm);return Im(r,"You must render this element inside a <HydratedRouter> element"),r}function G1(r,t){let n=G.useContext(Dm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=W=>{W.forEach(at=>{f(at.isIntersecting)})},j=new IntersectionObserver(Z,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let q=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:_l(m,q),onBlur:_l(g,F),onMouseEnter:_l(y,q),onMouseLeave:_l(E,F),onTouchStart:_l(A,q)}]:[!1,w,{}]}function _l(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function K1({page:r,...t}){let{router:n}=bE(),s=G.useMemo(()=>pE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Y1,{page:r,matches:s,...t}):null}function Q1(r){let{manifest:t,routeModules:n}=CE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return z1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Y1({page:r,matches:t,...n}){let s=Bs(),{manifest:o,routeModules:u}=CE(),{basename:f}=bE(),{loaderData:m,matches:g}=F1(),y=G.useMemo(()=>H_(r,t,g,o,s,"data"),[r,t,g,o,s]),E=G.useMemo(()=>H_(r,t,g,o,s,"assets"),[r,t,g,o,s]),A=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Z=!1;if(t.forEach(W=>{let at=o.routes[W.route.id];!at||!at.hasLoader||(!y.some(it=>it.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||at.hasClientLoader?Z=!0:F.add(W.route.id))}),F.size===0)return[];let j=k1(r,f,"data");return Z&&F.size>0&&j.searchParams.set("_routes",t.filter(W=>F.has(W.route.id)).map(W=>W.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,y,t,r,u]),w=G.useMemo(()=>B1(E,o),[E,o]),q=Q1(E);return G.createElement(G.Fragment,null,A.map(F=>G.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>G.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),q.map(({key:F,link:Z})=>G.createElement("link",{key:F,...Z})))}function X1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.7.1")}catch{}function $1({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=PA({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(g=>{G.startTransition(()=>f(g))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(b1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rl=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...w},q){let{basename:F}=G.useContext(pi),Z=typeof y=="string"&&DE.test(y),j,W=!1;if(typeof y=="string"&&Z&&(j=y,IE))try{let C=new URL(window.location.href),N=y.startsWith("//")?new URL(C.protocol+y):new URL(y),M=Yi(N.pathname,F);N.origin===C.origin&&M!=null?y=M+N.search+N.hash:W=!0}catch{qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=o1(y,{relative:o}),[it,Rt,ht]=G1(s,w),Pt=tR(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function V(C){t&&t(C),C.defaultPrevented||Pt(C)}let R=G.createElement("a",{...w,...ht,href:j||at,onClick:W||u?t:V,ref:X1(q,Rt),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return it&&!Z?G.createElement(G.Fragment,null,R,G.createElement(K1,{page:at})):R});Rl.displayName="Link";var Z1=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=Gl(f,{relative:y.relative}),w=Bs(),q=G.useContext(dh),{navigator:F,basename:Z}=G.useContext(pi),j=q!=null&&sR(A)&&m===!0,W=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,at=w.pathname,it=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;n||(at=at.toLowerCase(),it=it?it.toLowerCase():null,W=W.toLowerCase()),it&&Z&&(it=Yi(it,Z)||it);const Rt=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ht=at===W||!o&&at.startsWith(W)&&at.charAt(Rt)==="/",Pt=it!=null&&(it===W||!o&&it.startsWith(W)&&it.charAt(W.length)==="/"),V={isActive:ht,isPending:Pt,isTransitioning:j},R=ht?t:void 0,C;typeof s=="function"?C=s(V):C=[s,ht?"active":null,Pt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(V):u;return G.createElement(Rl,{...y,"aria-current":R,className:C,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(V):g)});Z1.displayName="NavLink";var W1=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Pc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...w},q)=>{let F=iR(),Z=rR(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&DE.test(m),at=it=>{if(g&&g(it),it.defaultPrevented)return;it.preventDefault();let Rt=it.nativeEvent.submitter,ht=Rt?.getAttribute("formmethod")||f;F(Rt||it.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:q,method:j,action:Z,onSubmit:s?g:at,...w,"data-discover":!W&&r==="render"?"true":void 0})});W1.displayName="Form";function J1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(r){let t=G.useContext(to);return se(t,J1(r)),t}function tR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=l1(),g=Bs(),y=Gl(r,{relative:u});return G.useCallback(E=>{if(V1(E,t)){E.preventDefault();let A=n!==void 0?n:Vl(g)===Vl(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,o,u,f])}var eR=0,nR=()=>`__${String(++eR)}__`;function iR(){let{router:r}=OE("useSubmit"),{basename:t}=G.useContext(pi),n=T1();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=x1(s,t);if(o.navigate===!1){let E=o.fetcherKey||nR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function rR(r,{relative:t}={}){let{basename:n}=G.useContext(pi),s=G.useContext(gi);se(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Gl(r||".",{relative:t})},f=Bs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),Vl(u)}function sR(r,{relative:t}={}){let n=G.useContext(TE);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OE("useViewTransitionState"),o=Gl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Yi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kc(o.pathname,f)!=null||Kc(o.pathname,u)!=null}const aR=({category:r})=>{const{title:t,imageUrl:n}=r;return St.jsxs("div",{className:"category-container",children:[St.jsx("div",{className:"background-image",style:{backgroundImage:`url(${n})`}}),St.jsxs("div",{className:"category-body-container",children:[St.jsx("h2",{children:t}),St.jsx("p",{children:"Shop Now"})]})]})},oR=({categories:r})=>St.jsx("div",{className:"directory-container",children:r.map(t=>St.jsx(aR,{category:t},t.id))});function lR(){const r=[{id:1,title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png"},{id:2,title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png"},{id:3,title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png"},{id:4,title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png"},{id:5,title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png"}];return St.jsx(oR,{categories:r})}const uR=r=>G.createElement("svg",{width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...r},G.createElement("title",null,"Group"),G.createElement("desc",null,"Created with Sketch."),G.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},G.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},G.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},G.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),G.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),G.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),G.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),G.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))),cR=()=>St.jsxs(G.Fragment,{children:[St.jsxs("div",{className:"navigation",children:[St.jsx(Rl,{className:"logo-container",to:"/",children:St.jsx(uR,{className:"logo"})}),St.jsxs("div",{className:"nav-links-container",children:[St.jsx(Rl,{className:"nav-link",to:"/shop",children:"SHOP"}),St.jsx(Rl,{className:"nav-link",to:"/sign-in",children:"SIGN IN"})]})]}),St.jsx(w1,{})]}),hR=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},fR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,q=y&63;g||(q=64,f||(w=64)),s.push(n[E],n[A],n[w],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(NE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):fR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new dR;const w=u<<2|m>>4;if(s.push(w),y!==64){const q=m<<4&240|y>>2;if(s.push(q),A!==64){const F=y<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mR=function(r){const t=NE(r);return VE.encodeByteArray(t,!0)},Qc=function(r){return mR(r).replace(/\./g,"")},ME=function(r){try{return VE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=()=>pR().__FIREBASE_DEFAULTS__,yR=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&ME(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return hR()||gR()||yR()||_R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PE=r=>ph()?.emulatorHosts?.[r],vR=r=>{const t=PE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},xE=()=>ph()?.config,kE=r=>ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(n)),Qc(JSON.stringify(f)),""].join(".")}const wl={};function SR(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function AR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let F_=!1;function LE(r,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||wl[r]===t||wl[r]||F_)return;wl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=SR().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,q){w.setAttribute("width","24"),w.setAttribute("id",q),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{F_=!0,f()},w}function E(w,q){w.setAttribute("id",q),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=AR(s),q=n("text"),F=document.getElementById(q)||document.createElement("span"),Z=n("learnmore"),j=document.getElementById(Z)||document.createElement("a"),W=n("preprendIcon"),at=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;m(it),E(j,Z);const Rt=y();g(at,W),it.append(at,F,j,Rt),document.body.appendChild(it)}u?(F.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function wR(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class Ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=MR,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?PR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,s)}}function PR(r,t){return r.replace(xR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const xR=/\{\$([^}]+)}/g;function kR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ms(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(G_(u)&&G_(f)){if(!Ms(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function UR(r,t){const n=new LR(r,t);return n.subscribe.bind(n)}class LR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ER;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HR(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(r){return r===Ds?void 0:r}function HR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const FR={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},GR=Nt.INFO,KR={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},QR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=KR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=GR,this._logHandler=QR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const YR=(r,t)=>t.some(n=>r instanceof n);let K_,Q_;function XR(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,tm=new WeakMap,BE=new WeakMap,qd=new WeakMap,Nm=new WeakMap;function ZR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Pr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&zE.set(n,r)}).catch(()=>{}),Nm.set(t,r),t}function WR(r){if(tm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});tm.set(r,t)}let em={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||BE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JR(r){em=r(em)}function tw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Hd(this),t,...n);return BE.set(s,t.sort?t.sort():[t]),Pr(s)}:$R().includes(r)?function(...t){return r.apply(Hd(this),t),Pr(zE.get(this))}:function(...t){return Pr(r.apply(Hd(this),t))}}function ew(r){return typeof r=="function"?tw(r):(r instanceof IDBTransaction&&WR(r),YR(r,XR())?new Proxy(r,em):r)}function Pr(r){if(r instanceof IDBRequest)return ZR(r);if(qd.has(r))return qd.get(r);const t=ew(r);return t!==r&&(qd.set(r,t),Nm.set(t,r)),t}const Hd=r=>Nm.get(r);function nw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Pr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Pr(f.result),g.oldVersion,g.newVersion,Pr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],rw=["put","add","delete","clear"],jd=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=rw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return jd.set(t,u),u}JR(r=>({...r,get:(t,n,s)=>Y_(t,n)||r.get(t,n,s),has:(t,n)=>!!Y_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aw(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",X_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Om("@firebase/app"),ow="@firebase/app-compat",lw="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",hw="@firebase/app-check",fw="@firebase/auth",dw="@firebase/auth-compat",mw="@firebase/database",pw="@firebase/data-connect",gw="@firebase/database-compat",yw="@firebase/functions",_w="@firebase/functions-compat",vw="@firebase/installations",Ew="@firebase/installations-compat",Tw="@firebase/messaging",Sw="@firebase/messaging-compat",Aw="@firebase/performance",Rw="@firebase/performance-compat",ww="@firebase/remote-config",bw="@firebase/remote-config-compat",Cw="@firebase/storage",Iw="@firebase/storage-compat",Dw="@firebase/firestore",Ow="@firebase/ai",Nw="@firebase/firestore-compat",Vw="firebase",Mw="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",Pw={[nm]:"fire-core",[ow]:"fire-core-compat",[uw]:"fire-analytics",[lw]:"fire-analytics-compat",[hw]:"fire-app-check",[cw]:"fire-app-check-compat",[fw]:"fire-auth",[dw]:"fire-auth-compat",[mw]:"fire-rtdb",[pw]:"fire-data-connect",[gw]:"fire-rtdb-compat",[yw]:"fire-fn",[_w]:"fire-fn-compat",[vw]:"fire-iid",[Ew]:"fire-iid-compat",[Tw]:"fire-fcm",[Sw]:"fire-fcm-compat",[Aw]:"fire-perf",[Rw]:"fire-perf-compat",[ww]:"fire-rc",[bw]:"fire-rc-compat",[Cw]:"fire-gcs",[Iw]:"fire-gcs-compat",[Dw]:"fire-fst",[Nw]:"fire-fst-compat",[Ow]:"fire-vertex","fire-js":"fire-js",[Vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,xw=new Map,rm=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(n){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const t=r.name;if(rm.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,r);for(const n of Yc.values())$_(n,r);for(const n of xw.values())$_(n,r);return!0}function Vm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Kl("app","Firebase",kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Mw;function qE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:im,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=xE()),!n)throw xr.create("no-options");const u=Yc.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw xr.create("duplicate-app",{appName:o})}const f=new jR(o);for(const g of rm.values())f.addComponent(g);const m=new Uw(n,s,f);return Yc.set(o,m),m}function HE(r=im){const t=Yc.get(r);if(!t&&r===im&&xE())return qE();if(!t)throw xr.create("no-app",{appName:r});return t}function kr(r,t,n){let s=Pw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(f.join(" "));return}Qa(new Ps(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",zw=1,Ml="firebase-heartbeat-store";let Fd=null;function jE(){return Fd||(Fd=nw(Lw,zw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),Fd}async function Bw(r){try{const n=(await jE()).transaction(Ml),s=await n.objectStore(Ml).get(FE(r));return await n.done,s}catch(t){if(t instanceof Ji)Xi.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(n.message)}}}async function Z_(r,t){try{const s=(await jE()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(t,FE(r)),await s.done}catch(n){if(n instanceof Ji)Xi.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(s.message)}}}function FE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1024,Hw=30;class jw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Hw){const o=Kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:n,unsentEntries:s}=Fw(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function Fw(r,t=qw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function Kw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){Qa(new Ps("platform-logger",t=>new sw(t),"PRIVATE")),Qa(new Ps("heartbeat",t=>new jw(t),"PRIVATE")),kr(nm,X_,r),kr(nm,X_,"esm2020"),kr("fire-js","")}Qw("");var Yw="firebase",Xw="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(Yw,Xw,"app");function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $w=GE,KE=new Kl("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Om("@firebase/auth");function Zw(r,...t){Xc.logLevel<=Nt.WARN&&Xc.warn(`Auth (${no}): ${r}`,...t)}function kc(r,...t){Xc.logLevel<=Nt.ERROR&&Xc.error(`Auth (${no}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...t){throw Pm(r,...t)}function Bn(r,...t){return Pm(r,...t)}function Mm(r,t,n){const s={...$w(),[t]:n};return new Kl("auth","Firebase",s).create(t,{appName:r.name})}function Ur(r){return Mm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ww(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&fi(r,"argument-error"),Mm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KE.create(r,...t)}function vt(r,t,...n){if(!r)throw Pm(t,...n)}function Fi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function $i(r,t){r||Fi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){return typeof self<"u"&&self.location?.href||""}function Jw(){return tv()==="http:"||tv()==="https:"}function tv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jw()||CR()||"connection"in navigator)?navigator.onLine:!0}function eb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,$i(n>t,"Short delay should be less than long delay!"),this.isMobile=RR()||IR()}get(){return tb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rb=new Yl(3e4,6e4);function Xl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function qs(r,t,n,s,o={}){return YE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ql({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return bR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&eo(r.emulatorConfig.host)&&(y.credentials="include"),QE.fetch()(await $E(r,r.config.apiHost,n,m),y)})}async function YE(r,t,n){r._canInitEmulator=!1;const s={...nb,...t};try{const o=new ab(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ic(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ic(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mm(r,E,y);fi(r,E)}}catch(o){if(o instanceof Ji)throw o;fi(r,"network-request-failed",{message:String(o)})}}async function XE(r,t,n,s,o={}){const u=await qs(r,t,n,s,o);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $E(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?xm(r.config,o):`${r.config.apiScheme}://${o}`;return ib.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function sb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ab{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bn(this.auth,"network-request-failed")),rb.get())})}}function Ic(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bn(r,t,s);return o.customData._tokenResponse=n,o}function ev(r){return r!==void 0&&r.enterprise!==void 0}class ob{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return sb(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lb(r,t){return qs(r,"GET","/v2/recaptchaConfig",Xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(r,t){return qs(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return qs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cb(r,t=!1){const n=hi(r),s=await n.getIdToken(t),o=km(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:bl(Gd(o.auth_time)),issuedAtTime:bl(Gd(o.iat)),expirationTime:bl(Gd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gd(r){return Number(r)*1e3}function km(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nv(r){const t=km(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ji&&hb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){const t=r.auth,n=await r.getIdToken(),s=await Pl(r,$c(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ZE(o.providerUserInfo):[],f=mb(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function db(r){const t=hi(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mb(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function ZE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(r,t){const n=await YE(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $E(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&eo(r.emulatorConfig.host)&&(g.credentials="include"),QE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gb(r,t){return qs(r,"POST","/v2/accounts:revokeToken",Xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=nv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pb(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ja;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cb(this,t)}reload(){return db(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ur(this.auth));const t=await this.getIdToken();return await Pl(this,ub(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:q,providerData:F,stsTokenManager:Z}=n;vt(A&&Z,t,"internal-error");const j=ja.fromJSON(this.name,Z);vt(typeof A=="string",t,"internal-error"),Dr(s,t.name),Dr(o,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof q=="boolean",t,"internal-error"),Dr(u,t.name),Dr(f,t.name),Dr(m,t.name),Dr(g,t.name),Dr(y,t.name),Dr(E,t.name);const W=new Ln({uid:A,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:j,createdAt:y,lastLoginAt:E});return F&&Array.isArray(F)&&(W.providerData=F.map(at=>({...at}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(t,n,s=!1){const o=new ja;o.updateFromServerResponse(n);const u=new Ln({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Zc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ja;m.updateFromIdToken(s);const g=new Ln({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function Gi(r){$i(r instanceof Function,"Expected a class definition");let t=iv.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,iv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}WE.type="NONE";const rv=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(r,t,n){return`firebase:${r}:${t}:${n}`}class Fa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Uc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $c(this.auth,{idToken:t}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Fa(Gi(rv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Gi(rv);const f=Uc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const w=await $c(t,{idToken:E}).catch(()=>{});if(!w)break;A=await Ln._fromGetAccountInfoResponse(t,w,E)}else A=Ln._fromJSON(t,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Fa(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Fa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rT(t))return"Blackberry";if(sT(t))return"Webos";if(tT(t))return"Safari";if((t.includes("chrome/")||eT(t))&&!t.includes("edge/"))return"Chrome";if(iT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function JE(r=Ze()){return/firefox\//i.test(r)}function tT(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eT(r=Ze()){return/crios\//i.test(r)}function nT(r=Ze()){return/iemobile/i.test(r)}function iT(r=Ze()){return/android/i.test(r)}function rT(r=Ze()){return/blackberry/i.test(r)}function sT(r=Ze()){return/webos/i.test(r)}function Um(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yb(r=Ze()){return Um(r)&&!!window.navigator?.standalone}function _b(){return DR()&&document.documentMode===10}function aT(r=Ze()){return Um(r)||iT(r)||sT(r)||rT(r)||/windows phone/i.test(r)||nT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,t=[]){let n;switch(r){case"Browser":n=sv(Ze());break;case"Worker":n=`${sv(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(r,t={}){return qs(r,"GET","/v2/passwordPolicy",Xl(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=6;class Sb{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Tb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new vb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $c(this,{idToken:t}),s=await Ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Dn(this.app))return Promise.reject(Ur(this));const n=t?hi(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Dn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Eb(this),n=new Sb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gb(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Gi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Zw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hs(r){return hi(r)}class av{constructor(t){this.auth=t,this.observer=null,this.addObserver=UR(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rb(r){gh=r}function lT(r){return gh.loadJS(r)}function wb(){return gh.recaptchaEnterpriseScript}function bb(){return gh.gapiScript}function Cb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Ib{constructor(){this.enterprise=new Db}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Db{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Ob="recaptcha-enterprise",uT="NO_RECAPTCHA";class Nb{constructor(t){this.type=Ob,this.auth=Hs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{lb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new ob(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;ev(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(uT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ib().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&ev(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=wb();g.length!==0&&(g+=m),lT(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function ov(r,t,n,s=!1,o=!1){const u=new Nb(r);let f;if(o)f=uT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vb(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ov(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ov(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r,t){const n=Vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,t??{}))return o;fi(o,"already-initialized")}return n.initialize({options:t})}function Pb(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Gi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function xb(r,t,n){const s=Hs(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=cT(t),{host:f,port:m}=kb(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Ms(y,s.config.emulator)&&Ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,eo(f)?(UE(`${u}//${f}${g}`),LE("Auth",!0)):Ub()}function cT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function kb(r){const t=cT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lv(f)}}}function lv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ub(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(t){return Fi("not implemented")}_linkToIdToken(t,n){return Fi("not implemented")}_getReauthenticationResolver(t){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return XE(r,"POST","/v1/accounts:signInWithIdp",Xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="http://localhost";class xs extends hT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ga(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ga(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ga(t,n)}buildRequest(){const t={requestUri:Lb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Lm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends $l{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends $l{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends $l{constructor(){super("twitter.com")}static credential(t,n){return xs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(r,t){return XE(r,"POST","/v1/accounts:signUp",Xl(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ln._fromIdTokenResponse(t,s,o),f=uv(s);return new ks({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=uv(s);return new ks({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Ji{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Wc(t,n,s,o)}}function fT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,u,t,s):u})}async function Bb(r,t,n=!1){const s=await Pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ks._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(r,t,n=!1){const{auth:s}=r;if(Dn(s.app))return Promise.reject(Ur(s));const o="reauthenticate";try{const u=await Pl(r,fT(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=km(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),ks._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(r,t,n=!1){if(Dn(r.app))return Promise.reject(Ur(r));const s="signIn",o=await fT(r,s,t),u=await ks._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(r){const t=Hs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fb(r,t,n){if(Dn(r.app))return Promise.reject(Ur(r));const s=Hs(r),f=await Vb(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zb).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&jb(r),g}),m=await ks._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Gb(r,t,n,s){return hi(r).onIdTokenChanged(t,n,s)}function Kb(r,t,n){return hi(r).beforeAuthStateChanged(t,n)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=1e3,Yb=10;class mT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_b()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Yb):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}mT.type="LOCAL";const Xb=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}pT.type="SESSION";const gT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await $b(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=zm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function Wb(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Jb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){return navigator?.serviceWorker?.controller||null}function eC(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",nC=1,th="firebaseLocalStorage",vT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function iC(){const r=indexedDB.deleteDatabase(_T);return new Zl(r).toPromise()}function om(){const r=indexedDB.open(_T,nC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:vT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?t(s):(s.close(),await iC(),t(await om()))})})}async function cv(r,t,n){const s=_h(r,!0).put({[vT]:t,value:n});return new Zl(s).toPromise()}async function rC(r,t){const n=_h(r,!1).get(t),s=await new Zl(n).toPromise();return s===void 0?null:s.value}function hv(r,t){const n=_h(r,!0).delete(t);return new Zl(n).toPromise()}const sC=800,aC=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(eC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jb(),!this.activeServiceWorker)return;this.sender=new Zb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await cv(t,Jc,"1"),await hv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>rC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=_h(o,!1).getAll();return new Zl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const oC=ET;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r,t){return t?Gi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends hT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ga(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lC(r){return Hb(r.auth,new Bm(r),r.bypassAuthState)}function uC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),qb(n,new Bm(r),r.bypassAuthState)}async function cC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),Bb(n,new Bm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:fi(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Yl(2e3,1e4);async function fC(r,t,n){if(Dn(r.app))return Promise.reject(Bn(r,"operation-not-supported-in-this-environment"));const s=Hs(r);Ww(r,t,Lm);const o=TT(s,n);return new Os(s,"signInViaPopup",t,o).executeNotNull()}class Os extends ST{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hC.get())};t()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="pendingRedirect",Lc=new Map;class mC extends ST{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const s=await pC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(r,t){const n=_C(t),s=yC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gC(r,t){Lc.set(r._key(),t)}function yC(r){return Gi(r._redirectPersistence)}function _C(r){return Uc(dC,r.config.apiKey,r.name)}async function vC(r,t,n=!1){if(Dn(r.app))return Promise.reject(Ur(r));const s=Hs(r),o=TT(s,t),f=await new mC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=600*1e3;class TC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!AT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Bn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EC&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function AT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function SC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,t={}){return qs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wC=/^https?/;async function bC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await AC(r);for(const n of t)try{if(CC(n))return}catch{}fi(r,"unauthorized-domain")}function CC(r){const t=sm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new Yl(3e4,6e4);function dv(){const r=ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DC(r){return new Promise((t,n)=>{function s(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),n(Bn(r,"network-request-failed"))},timeout:IC.get()})}if(ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ai().gapi?.load)s();else{const o=Cb("iframefcb");return ai()[o]=()=>{gapi.load?s():n(Bn(r,"network-request-failed"))},lT(`${bb()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw zc=null,t})}let zc=null;function OC(r){return zc=zc||DC(r),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Yl(5e3,15e3),VC="__/auth/iframe",MC="emulator/auth/iframe",PC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?xm(t,MC):`https://${r.config.authDomain}/${VC}`,s={apiKey:t.apiKey,appName:r.name,v:no},o=xC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function UC(r){const t=await OC(r),n=ai().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:kC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Bn(r,"network-request-failed"),m=ai().setTimeout(()=>{u(f)},NC.get());function g(){ai().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,BC=600,qC="_blank",HC="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(r,t,n,s=zC,o=BC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...LC,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=eT(y)?qC:n),JE(y)&&(t=t||HC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[q,F])=>`${w}${q}=${F},`,"");if(yb(y)&&m!=="_self")return FC(t||"",m),new mv(null);const A=window.open(t||"",m,E);vt(A,r,"popup-blocked");try{A.focus()}catch{}return new mv(A)}function FC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__/auth/handler",KC="emulator/auth/handler",QC=encodeURIComponent("fac");async function pv(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:no,eventId:o};if(t instanceof Lm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",kR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof $l){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${QC}=${encodeURIComponent(g)}`:"";return`${YC(r)}?${Ql(m).slice(1)}${y}`}function YC({config:r}){return r.emulator?xm(r,KC):`https://${r.authDomain}/${GC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=vC,this._overrideRedirectResult=gC}async _openPopup(t,n,s,o){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await pv(t,n,s,sm(),o);return jC(t,u,zm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await pv(t,n,s,sm(),o);return Wb(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await UC(t),s=new TC(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Kd,{type:Kd},o=>{const u=o?.[0]?.[Kd];u!==void 0&&n(!!u),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||tT()||Um()}}const $C=XC;var gv="@firebase/auth",yv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){Qa(new Ps("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(r)},y=new Ab(s,o,u,g);return Pb(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ps("auth-internal",t=>{const n=Hs(t.getProvider("auth").getImmediate());return(s=>new ZC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(gv,yv,WC(r)),kr(gv,yv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=300,eI=kE("authIdTokenMaxAge")||tI;let _v=null;const nI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eI)return;const o=n?.token;_v!==o&&(_v=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iI(r=HE()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Mb(r,{popupRedirectResolver:$C,persistence:[oC,Xb,gT]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nI(u.toString());Kb(n,f,()=>f(n.currentUser)),Gb(n,m=>f(m))}}const o=PE("auth");return o&&xb(n,`http://${o}`),n}function rI(){return document.getElementsByTagName("head")?.[0]??document}Rb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Bn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,RT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function C(){}C.prototype=R.prototype,V.D=R.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(N,M,x){for(var I=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)I[ke-2]=arguments[ke];return R.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)N[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=V.g[0],C=V.g[1],M=V.g[2];var x=V.g[3],I=R+(x^C&(M^x))+N[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=x+(M^R&(C^M))+N[1]+3905402710&4294967295,x=R+(I<<12&4294967295|I>>>20),I=M+(C^x&(R^C))+N[2]+606105819&4294967295,M=x+(I<<17&4294967295|I>>>15),I=C+(R^M&(x^R))+N[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(x^C&(M^x))+N[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=x+(M^R&(C^M))+N[5]+1200080426&4294967295,x=R+(I<<12&4294967295|I>>>20),I=M+(C^x&(R^C))+N[6]+2821735955&4294967295,M=x+(I<<17&4294967295|I>>>15),I=C+(R^M&(x^R))+N[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(x^C&(M^x))+N[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=x+(M^R&(C^M))+N[9]+2336552879&4294967295,x=R+(I<<12&4294967295|I>>>20),I=M+(C^x&(R^C))+N[10]+4294925233&4294967295,M=x+(I<<17&4294967295|I>>>15),I=C+(R^M&(x^R))+N[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(x^C&(M^x))+N[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=x+(M^R&(C^M))+N[13]+4254626195&4294967295,x=R+(I<<12&4294967295|I>>>20),I=M+(C^x&(R^C))+N[14]+2792965006&4294967295,M=x+(I<<17&4294967295|I>>>15),I=C+(R^M&(x^R))+N[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(M^x&(C^M))+N[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=x+(C^M&(R^C))+N[6]+3225465664&4294967295,x=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(x^R))+N[11]+643717713&4294967295,M=x+(I<<14&4294967295|I>>>18),I=C+(x^R&(M^x))+N[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^x&(C^M))+N[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=x+(C^M&(R^C))+N[10]+38016083&4294967295,x=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(x^R))+N[15]+3634488961&4294967295,M=x+(I<<14&4294967295|I>>>18),I=C+(x^R&(M^x))+N[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^x&(C^M))+N[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=x+(C^M&(R^C))+N[14]+3275163606&4294967295,x=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(x^R))+N[3]+4107603335&4294967295,M=x+(I<<14&4294967295|I>>>18),I=C+(x^R&(M^x))+N[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^x&(C^M))+N[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=x+(C^M&(R^C))+N[2]+4243563512&4294967295,x=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(x^R))+N[7]+1735328473&4294967295,M=x+(I<<14&4294967295|I>>>18),I=C+(x^R&(M^x))+N[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(C^M^x)+N[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=x+(R^C^M)+N[8]+2272392833&4294967295,x=R+(I<<11&4294967295|I>>>21),I=M+(x^R^C)+N[11]+1839030562&4294967295,M=x+(I<<16&4294967295|I>>>16),I=C+(M^x^R)+N[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^x)+N[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=x+(R^C^M)+N[4]+1272893353&4294967295,x=R+(I<<11&4294967295|I>>>21),I=M+(x^R^C)+N[7]+4139469664&4294967295,M=x+(I<<16&4294967295|I>>>16),I=C+(M^x^R)+N[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^x)+N[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=x+(R^C^M)+N[0]+3936430074&4294967295,x=R+(I<<11&4294967295|I>>>21),I=M+(x^R^C)+N[3]+3572445317&4294967295,M=x+(I<<16&4294967295|I>>>16),I=C+(M^x^R)+N[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^x)+N[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=x+(R^C^M)+N[12]+3873151461&4294967295,x=R+(I<<11&4294967295|I>>>21),I=M+(x^R^C)+N[15]+530742520&4294967295,M=x+(I<<16&4294967295|I>>>16),I=C+(M^x^R)+N[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(M^(C|~x))+N[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=x+(C^(R|~M))+N[7]+1126891415&4294967295,x=R+(I<<10&4294967295|I>>>22),I=M+(R^(x|~C))+N[14]+2878612391&4294967295,M=x+(I<<15&4294967295|I>>>17),I=C+(x^(M|~R))+N[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~x))+N[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=x+(C^(R|~M))+N[3]+2399980690&4294967295,x=R+(I<<10&4294967295|I>>>22),I=M+(R^(x|~C))+N[10]+4293915773&4294967295,M=x+(I<<15&4294967295|I>>>17),I=C+(x^(M|~R))+N[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~x))+N[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=x+(C^(R|~M))+N[15]+4264355552&4294967295,x=R+(I<<10&4294967295|I>>>22),I=M+(R^(x|~C))+N[6]+2734768916&4294967295,M=x+(I<<15&4294967295|I>>>17),I=C+(x^(M|~R))+N[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~x))+N[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=x+(C^(R|~M))+N[11]+3174756917&4294967295,x=R+(I<<10&4294967295|I>>>22),I=M+(R^(x|~C))+N[2]+718787259&4294967295,M=x+(I<<15&4294967295|I>>>17),I=C+(x^(M|~R))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var C=R-this.blockSize,N=this.B,M=this.h,x=0;x<R;){if(M==0)for(;x<=C;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<R;)if(N[M++]=V.charCodeAt(x++),M==this.blockSize){o(this,N),M=0;break}}else for(;x<R;)if(N[M++]=V[x++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var C=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=C&255,C/=256;for(this.u(V),V=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)V[C++]=this.g[R]>>>N&255;return V};function u(V,R){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=R(V)}function f(V,R){this.h=R;for(var C=[],N=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;N&&x==R||(C[M]=x,N=!1)}this.g=C}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return j(y(-V));for(var R=[],C=1,N=0;V>=C;N++)R[N]=V/C|0,C*=4294967296;return new f(R,0)}function E(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return j(E(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),N=A,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),I=parseInt(V.substring(M,M+x),R);8>x?(x=y(Math.pow(R,x)),N=N.j(x).add(y(I))):(N=N.j(C),N=N.add(y(I)))}return N}var A=g(0),w=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-j(this).m();for(var V=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);V+=(0<=N?N:4294967296+N)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(F(this))return"0";if(Z(this))return"-"+j(this).toString(V);for(var R=y(Math.pow(V,6)),C=this,N="";;){var M=Rt(C,R).g;C=W(C,M.j(R));var x=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,F(C))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function F(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function Z(V){return V.h==-1}r.l=function(V){return V=W(this,V),Z(V)?-1:F(V)?0:1};function j(V){for(var R=V.g.length,C=[],N=0;N<R;N++)C[N]=~V.g[N];return new f(C,~V.h).add(w)}r.abs=function(){return Z(this)?j(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],N=0,M=0;M<=R;M++){var x=N+(this.i(M)&65535)+(V.i(M)&65535),I=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=I>>>16,x&=65535,I&=65535,C[M]=I<<16|x}return new f(C,C[C.length-1]&-2147483648?-1:0)};function W(V,R){return V.add(j(R))}r.j=function(V){if(F(this)||F(V))return A;if(Z(this))return Z(V)?j(this).j(j(V)):j(j(this).j(V));if(Z(V))return j(this.j(j(V)));if(0>this.l(q)&&0>V.l(q))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var x=this.i(N)>>>16,I=this.i(N)&65535,ke=V.i(M)>>>16,oe=V.i(M)&65535;C[2*N+2*M]+=I*oe,at(C,2*N+2*M),C[2*N+2*M+1]+=x*oe,at(C,2*N+2*M+1),C[2*N+2*M+1]+=I*ke,at(C,2*N+2*M+1),C[2*N+2*M+2]+=x*ke,at(C,2*N+2*M+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new f(C,0)};function at(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function it(V,R){this.g=V,this.h=R}function Rt(V,R){if(F(R))throw Error("division by zero");if(F(V))return new it(A,A);if(Z(V))return R=Rt(j(V),R),new it(j(R.g),j(R.h));if(Z(R))return R=Rt(V,j(R)),new it(j(R.g),R.h);if(30<V.g.length){if(Z(V)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=R;0>=N.l(V);)C=ht(C),N=ht(N);var M=Pt(C,1),x=Pt(N,1);for(N=Pt(N,2),C=Pt(C,2);!F(N);){var I=x.add(N);0>=I.l(V)&&(M=M.add(C),x=I),N=Pt(N,1),C=Pt(C,1)}return R=W(V,M.j(R)),new it(M,R)}for(M=A;0<=V.l(R);){for(C=Math.max(1,Math.floor(V.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=y(C),I=x.j(R);Z(I)||0<I.l(V);)C-=N,x=y(C),I=x.j(R);F(x)&&(x=w),M=M.add(x),V=W(V,I)}return new it(M,V)}r.A=function(V){return Rt(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&V.i(N);return new f(C,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|V.i(N);return new f(C,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^V.i(N);return new f(C,this.h^V.h)};function ht(V){for(var R=V.g.length+1,C=[],N=0;N<R;N++)C[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(C,V.h)}function Pt(V,R){var C=R>>5;R%=32;for(var N=V.g.length-C,M=[],x=0;x<N;x++)M[x]=0<R?V.i(x+C)>>>R|V.i(x+C+1)<<32-R:V.i(x+C);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,RT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Lr=f}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,El,bT,Bc,lm,CT,IT,DT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in _))break t;_=_[k]}c=c[c.length-1],S=_[c],p=p(S),p!=S&&p!=null&&t(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,S=!1,k={next:function(){if(!S&&_<c.length){var H=_++;return{value:p(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function w(c,p,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function q(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function F(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,k,H){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return p.prototype[k].apply(S,nt)}}function Z(c){const p=c.length;if(0<p){const _=Array(p);for(let S=0;S<p;S++)_[S]=c[S];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const k=c.length||0,H=S.length||0;c.length=k+H;for(let nt=0;nt<H;nt++)c[k+nt]=S[nt]}else c.push(S)}}class W{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function at(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Rt(c){return Rt[" "](c),c}Rt[" "]=function(){};var ht=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Pt(c,p,_){for(const S in c)p.call(_,c[S],S,c)}function V(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function R(c){const p={};for(const _ in c)p[_]=c[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(_ in S)c[_]=S[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function x(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Bt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ke{constructor(){this.h=this.g=null}add(p,_){const S=oe.get();S.set(p,_),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new W(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ft=!1,Bt=new ke,D=()=>{const c=m.Promise.resolve(void 0);rt=()=>{c.then(J)}};var J=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){x(_)}var p=oe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ft=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ct(c,p){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ht){t:{try{Rt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}F(Ct,et);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Hn(c,p,_,S,k){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!S,this.ha=k,this.key=++Wt,this.da=this.fa=!1}function tr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,p,_,S,k){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var nt=Qr(c,p,S,k);return-1<nt?(p=c[nt],_||(p.fa=!1)):(p=new Hn(p,this.src,H,!!S,k),p.fa=_,c.push(p)),p};function Kr(c,p){var _=p.type;if(_ in c.g){var S=c.g[_],k=Array.prototype.indexOf.call(S,p,void 0),H;(H=0<=k)&&Array.prototype.splice.call(S,k,1),H&&(tr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Qr(c,p,_,S){for(var k=0;k<c.length;++k){var H=c[k];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==S)return k}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),oo={};function iu(c,p,_,S,k){if(Array.isArray(p)){for(var H=0;H<p.length;H++)iu(c,p[H],_,S,k);return null}return _=ru(_),c&&c[Ie]?c.K(p,_,y(S)?!!S.capture:!1,k):gn(c,p,_,!1,S,k)}function gn(c,p,_,S,k,H){if(!p)throw Error("Invalid event type");var nt=y(k)?!!k.capture:!!k,xt=Ys(c);if(xt||(c[Yr]=xt=new yi(c)),_=xt.add(p,_,S,nt,H),_.proxy)return _;if(S=Nh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)dt||(k=nt),k===void 0&&(k=!1),c.addEventListener(p.toString(),S,k);else if(c.attachEvent)c.attachEvent(Xr(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Nh(){function c(_){return p.call(c.src,c.listener,_)}const p=Vh;return c}function lo(c,p,_,S,k){if(Array.isArray(p))for(var H=0;H<p.length;H++)lo(c,p[H],_,S,k);else S=y(S)?!!S.capture:!!S,_=ru(_),c&&c[Ie]?(c=c.i,p=String(p).toString(),p in c.g&&(H=c.g[p],_=Qr(H,_,S,k),-1<_&&(tr(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ys(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Qr(p,_,S,k)),(_=-1<c?p[c]:null)&&Qs(_))}function Qs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])Kr(p.i,c);else{var _=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(_,S,c.capture):p.detachEvent?p.detachEvent(Xr(_),S):p.addListener&&p.removeListener&&p.removeListener(S),(_=Ys(p))?(Kr(_,c),_.h==0&&(_.src=null,p[Yr]=null)):tr(c)}}}function Xr(c){return c in oo?oo[c]:oo[c]="on"+c}function Vh(c,p){if(c.da)c=!0;else{p=new Ct(p,this);var _=c.listener,S=c.ha||c.src;c.fa&&Qs(c),c=_.call(S,p)}return c}function Ys(c){return c=c[Yr],c instanceof yi?c:null}var uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(c){return typeof c=="function"?c:(c[uo]||(c[uo]=function(p){return c.handleEvent(p)}),c[uo])}function le(){st.call(this),this.i=new yi(this),this.M=this,this.F=null}F(le,st),le.prototype[Ie]=!0,le.prototype.removeEventListener=function(c,p,_,S){lo(this,c,p,_,S)};function Ft(c,p){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new et(p,c);else if(p instanceof et)p.target=p.target||c;else{var k=p;p=new et(S,c),N(p,k)}if(k=!0,_)for(var H=_.length-1;0<=H;H--){var nt=p.g=_[H];k=on(nt,S,!0,p)&&k}if(nt=p.g=c,k=on(nt,S,!0,p)&&k,k=on(nt,S,!1,p)&&k,_)for(H=0;H<_.length;H++)nt=p.g=_[H],k=on(nt,S,!1,p)&&k}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],S=0;S<_.length;S++)tr(_[S]);delete c.g[p],c.h--}}this.F=null},le.prototype.K=function(c,p,_,S){return this.i.add(String(c),p,!1,_,S)},le.prototype.L=function(c,p,_,S){return this.i.add(String(c),p,!0,_,S)};function on(c,p,_,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,H=0;H<p.length;++H){var nt=p[H];if(nt&&!nt.da&&nt.capture==_){var xt=nt.listener,Se=nt.ha||nt.src;nt.fa&&Kr(c.i,nt),k=xt.call(Se,S)!==!1&&k}}return k&&!S.defaultPrevented}function Ge(c,p,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function su(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,su(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Mh extends st{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){st.call(this),this.h=c,this.g={}}F($r,st);var Zr=[];function Wr(c){Pt(c.g,function(p,_){this.g.hasOwnProperty(_)&&Qs(p)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Wr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Xs=m.JSON.parse,Jr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function ho(c){return c.h||(c.h=c.i())}function fo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){et.call(this,"d")}F(vi,et);function mo(){et.call(this,"c")}F(mo,et);var jn={},po=null;function er(){return po=po||new le}jn.La="serverreachability";function $s(c){et.call(this,jn.La,c)}F($s,et);function nr(c){const p=er();Ft(p,new $s(p))}jn.STAT_EVENT="statevent";function au(c,p){et.call(this,jn.STAT_EVENT,c),this.stat=p}F(au,et);function ee(c){const p=er();Ft(p,new au(p,c))}jn.Ma="timingevent";function Te(c,p){et.call(this,jn.Ma,c),this.size=p}F(Te,et);function pe(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function go(c,p,_,S,k,H){c.info(function(){if(c.g)if(H)for(var nt="",xt=H.split("&"),Se=0;Se<xt.length;Se++){var kt=xt[Se].split("=");if(1<kt.length){var Oe=kt[0];kt=kt[1];var Ae=Oe.split("_");nt=2<=Ae.length&&Ae[1]=="type"?nt+(Oe+"="+kt+"&"):nt+(Oe+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+p+`
`+_+`
`+nt})}function Ph(c,p,_,S,k,H,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+p+`
`+_+`
`+H+" "+nt})}function ir(c,p,_,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ts(c,_)+(S?" "+S:"")})}function ou(c,p){c.info(function(){return"TIMEOUT: "+p})}yn.prototype.info=function(){};function ts(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<k.length;nt++)k[nt]=""}}}}return Vn(_)}catch{return p}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Gn(){}F(Gn,co),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Fn=new Gn;function We(c,p,_,S){this.j=c,this.i=p,this.l=_,this.R=S||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var yo={},Zs={};function Mn(c,p,_){c.L=1,c.v=ss(ln(p)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,p){c.F=Date.now(),es(c),c.A=ln(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ao(_.i,"t",S),c.C=0,_=c.j.J,c.h=new he,c.g=Au(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Mh(w(c.Y,c,c.g),c.O)),p=c.U,_=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Zr[0]=k.toString()),k=Zr);for(var H=0;H<k.length;H++){var nt=iu(_,k[H],S||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),nr(),go(c.i,c.u,c.A,c.l,c.R,c.m)}We.prototype.ca=function(c){c=c.target;const p=this.M;p&&Tn(c)==3?p.j():this.Y(c)},We.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Tn(this.g);var p=this.g.Ba();const Di=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Ae!=4||p==7||(p==8||0>=Di?nr(3):nr(2)),sr(this);var _=this.g.Z();this.X=_;e:if(lu(this)){var S=pu(this.g);c="";var k=S.length,H=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Kn(this);var nt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(H&&p==k-1)});S.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Ph(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Se=this.g;if((xt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(xt)){var kt=xt;break e}}kt=null}if(_=kt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),Kn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=uu(this,nt),Le==Zs){Ae==4&&(this.s=4,ee(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==yo){this.s=4,ee(15),ir(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Le,null),ns(this,Le);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),Kn(this);else if(0<nt.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ds(Oe),Oe.M=!0,ee(11))}}else ir(this.i,this.l,nt,null),ns(this,nt);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?Eu(this.j,this):(this.o=!1,es(this)))}else zh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),Kn(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uu(c,p){var _=c.C,S=p.indexOf(`
`,_);return S==-1?Zs:(_=Number(p.substring(_,S)),isNaN(_)?yo:(S+=1,S+_>p.length?Zs:(p=p.slice(S,S+_),c.C=S+_,p)))}We.prototype.cancel=function(){this.J=!0,Ue(this)};function es(c){c.S=Date.now()+c.I,cu(c,c.I)}function cu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(w(c.ba,c),p)}function sr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}We.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ou(this.i,this.A),this.L!=2&&(nr(),ee(17)),Ue(this),this.s=2,Kn(this)):cu(this,this.S-c)};function Kn(c){c.j.G==0||c.J||Eu(c.j,c)}function Ue(c){sr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Wr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ns(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||_o(_.h,c))){if(!c.K&&_o(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break t;Io(_),ee(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(w(_.Za,_),6e3));if(1>=Js(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((c.K||_.g==c)&&ua(_),!at(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let kt=k[p];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Oe=kt[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const Ae=kt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Di=kt[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Le=c.g;if(Le){const Jn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var H=S.h;H.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ta(H,H.h),H.h=null))}if(S.D){const Oo=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(S.ya=Oo,Qt(S.I,S.D,Oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=c;if(S.qa=Su(S,S.J?S.ia:null,S.W),nt.K){Je(S.h,nt);var xt=nt,Se=S.L;Se&&(xt.I=Se),xt.B&&(sr(xt),es(xt)),S.g=nt}else _u(S);0<_.i.length&&la(_)}else kt[0]!="stop"&&kt[0]!="close"||Ii(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ii(_,7):bo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}nr(4)}catch{}}var hu=class{constructor(c,p){this.g=c,this.map=p}};function Si(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ws(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Js(c){return c.h?1:c.g?c.g.size:0}function _o(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ta(c,p){c.g?c.g.add(p):c.h=p}function Je(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Si.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Z(c.i)}function xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,S=0;S<_;S++)p.push(c[S]);return p}p=[],_=0;for(S in c)p[_++]=c[S];return p}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const S in c)p[_++]=S;return p}}}function Eo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ea(c),S=xh(c),k=S.length,H=0;H<k;H++)p.call(void 0,S[H],_&&_[H],c)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),k=null;if(0<=S){var H=c[_].substring(0,S);k=c[_].substring(S+1)}else H=c[_];p(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ge){this.h=c.h,rs(this,c.j),this.o=c.o,this.g=c.g,ar(this,c.s),this.l=c.l;var p=c.i,_=new Ri;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ai(this,_),this.m=c.m}else c&&(p=String(c).match(is))?(this.h=!1,rs(this,p[1]||"",!0),this.o=_n(p[2]||""),this.g=_n(p[3]||"",!0),ar(this,p[4]),this.l=_n(p[5]||"",!0),Ai(this,p[6]||"",!0),this.m=_n(p[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}ge.prototype.toString=function(){var c=[],p=this.j;p&&c.push(as(p,To,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(as(p,To,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(as(_,_.charAt(0)=="/"?Uh:So,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",as(_,na)),c.join("")};function ln(c){return new ge(c)}function rs(c,p,_){c.j=_?_n(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ar(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ai(c,p,_){p instanceof Ri?(c.i=p,du(c.i,c.h)):(_||(p=as(p,Lh)),c.i=new Ri(p,c.h))}function Qt(c,p,_){c.i.set(p,_)}function ss(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function as(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,fu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,So=/[#\?:]/g,Uh=/[#\?]/g,Lh=/[#\?@]/g,na=/#/g;function Ri(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&kh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ri.prototype,r.add=function(c,p){vn(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function wi(c,p){vn(c),p=Qn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function bi(c,p){return vn(c),p=Qn(c,p),c.g.has(p)}r.forEach=function(c,p){vn(this),this.g.forEach(function(_,S){_.forEach(function(k){c.call(p,k,S,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let S=0;S<p.length;S++){const k=c[S];for(let H=0;H<k.length;H++)_.push(p[S])}return _},r.V=function(c){vn(this);let p=[];if(typeof c=="string")bi(this,c)&&(p=p.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return vn(this),this.i=null,c=Qn(this,c),bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ao(c,p,_){wi(c,p),0<_.length&&(c.i=null,c.g.set(Qn(c,p),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var S=p[_];const H=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var k=H;nt[S]!==""&&(k+="="+encodeURIComponent(String(nt[S]))),c.push(k)}}return this.i=c.join("&")};function Qn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function du(c,p){p&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,S){var k=S.toLowerCase();S!=k&&(wi(this,S),Ao(this,k,_))},c)),c.j=p}function os(c,p){const _=new yn;if(m.Image){const S=new Image;S.onload=q(En,_,"TestLoadImage: loaded",!0,p,S),S.onerror=q(En,_,"TestLoadImage: error",!1,p,S),S.onabort=q(En,_,"TestLoadImage: abort",!1,p,S),S.ontimeout=q(En,_,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Pn(c,p){const _=new yn,S=new AbortController,k=setTimeout(()=>{S.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(k),H.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,p)})}function En(c,p,_,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(_)}catch{}}function ls(){this.g=new Jr}function Yn(c,p,_){const S=_||"";try{Eo(c,function(k,H){let nt=k;y(k)&&(nt=Vn(k)),p.push(S+H+"="+encodeURIComponent(nt))})}catch(k){throw p.push(S+"type="+encodeURIComponent("_badmap")),k}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}F(or,co),or.prototype.g=function(){return new Ci(this.l,this.j)},or.prototype.i=function(c){return function(){return c}}({});function Ci(c,p){le.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ci,le),r=Ci.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Xn(this):$n(this),this.readyState==3&&Ro(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wo(c){let p="";return Pt(c,function(_,S){p+=S,p+=":",p+=_,p+=`\r
`}),p}function De(c,p,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=wo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,p,_))}function Ht(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ht,le);var ia=/^https?$/i,us=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?ho(this.o):ho(Fn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){mu(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)_.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(us,p,void 0))||S||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){mu(this,H)}};function mu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ra(c),Zn(c)}function ra(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Ge(c.Ea,0,c);else if(Ft(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var S;if(S=nt===0){var k=String(c.D).match(is)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),S=!ia.test(k?k.toLowerCase():"")}_=S}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var H=2<Tn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ra(c)}}finally{Zn(c)}}}}function Zn(c,p){if(c.g){cs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ft(c,"ready");try{_.onreadystatechange=S}catch{}}}function cs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xs(p)}};function pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zh(c){const p={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(at(c[S]))continue;var _=M(c[S]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[k]||[];p[k]=H,H.push(_)}V(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function aa(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,c),this.cb=hs("retryDelaySeedMs",1e4,c),this.Wa=hs("forwardChannelMaxRetries",2,c),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(c&&c.concurrentRequestLimit),this.Da=new ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,S){ee(0),this.W=c,this.H=p||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Su(this,null,this.W),la(this)};function bo(c){if(gu(c),c.G==3){var p=c.U++,_=ln(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",p),Qt(_,"TYPE","terminate"),fs(c,_),p=new We(c,c.j,p),p.L=2,p.v=ss(ln(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Au(p.j,null),p.g.ea(p.v)),p.F=Date.now(),es(p)}Tu(c)}function oa(c){c.g&&(ds(c),c.g.cancel(),c.g=null)}function gu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Ws(c.h)&&!c.s){c.s=!0;var p=c.Ga;rt||D(),ft||(rt(),ft=!0),Bt.add(p,c),c.B=0}}function Bh(c,p){return Js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(w(c.Ga,c,p),Do(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new We(this,this.j,c);let H=this.o;if(this.S&&(H?(H=R(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=yu(this,k,p),_=ln(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),fs(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(wo(H)))+"&"+p:this.m&&De(_,this.m,H)),ta(this.h,k),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",p),Qt(_,"SID","null"),k.T=!0,Mn(k,_,null)):Mn(k,_,p),this.G=2}}else this.G==3&&(c?Co(this,c):this.i.length==0||Ws(this.h)||Co(this))};function Co(c,p){var _;p?_=p.l:_=c.U++;const S=ln(c.I);Qt(S,"SID",c.K),Qt(S,"RID",_),Qt(S,"AID",c.T),fs(c,S),c.m&&c.o&&De(S,c.m,c.o),_=new We(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=yu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Mn(_,S,p)}function fs(c,p){c.H&&Pt(c.H,function(_,S){Qt(p,S,_)}),c.l&&Eo({},function(_,S){Qt(p,S,_)})}function yu(c,p,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;t:{var k=c.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=k[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let xt=!0;for(let Se=0;Se<_;Se++){let kt=k[Se].g;const Oe=k[Se].map;if(kt-=H,0>kt)H=Math.max(0,k[Se].g-100),xt=!1;else try{Yn(Oe,nt,"req"+kt+"_")}catch{S&&S(Oe)}}if(xt){S=nt.join("&");break t}}}return c=c.i.splice(0,_),p.D=c,S}function _u(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;rt||D(),ft||(rt(),ft=!0),Bt.add(p,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(w(c.Fa,c),Do(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),oa(this),vu(this))};function ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new We(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ln(c.qa);Qt(p,"RID","rpc"),Qt(p,"SID",c.K),Qt(p,"AID",c.T),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(p,"TO",c.ja),Qt(p,"TYPE","xmlhttp"),fs(c,p),c.m&&c.o&&De(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ss(ln(p)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),Io(this),ee(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Eu(c,p){var _=null;if(c.g==p){ua(c),ds(c),c.g=null;var S=2}else if(_o(c.h,p))_=p.D,Je(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;S=er(),Ft(S,new Te(S,_)),la(c)}else _u(c);else if(k=p.s,k==3||k==0&&0<p.X||!(S==1&&Bh(c,p)||S==2&&Io(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),k){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Do(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ii(c,p){if(c.j.info("Error code "+p),p==2){var _=w(c.fb,c),S=c.Xa;const k=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||rs(S,"https"),ss(S),k?os(S.toString(),_):Pn(S.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(p),Tu(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Tu(c){if(c.G=0,c.ka=[],c.l){const p=vo(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Su(c,p,_){var S=_ instanceof ge?ln(_):new ge(_);if(S.g!="")p&&(S.g=p+"."+S.g),ar(S,S.s);else{var k=m.location;S=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var H=new ge(null);S&&rs(H,S),p&&(H.g=p),k&&ar(H,k),_&&(H.l=_),S=H}return _=c.D,p=c.ya,_&&p&&Qt(S,_,p),Qt(S,"VER",c.la),fs(c,S),S}function Au(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ht(new or({eb:_})):new Ht(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){le.call(this),this.g=new aa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!at(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!at(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Wn(this)}F(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){bo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);p.i.push(new hu(p.Ya++,c)),p.G==3&&la(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,tn.aa.N.call(this)};function wu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const _ in p){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}F(wu,vi);function bu(){mo.call(this),this.status=1}F(bu,mo);function Wn(c){this.g=c}F(Wn,Ru),Wn.prototype.ua=function(){Ft(this.g,"a")},Wn.prototype.ta=function(c){Ft(this.g,new wu(c))},Wn.prototype.sa=function(c){Ft(this.g,new bu)},Wn.prototype.ra=function(){Ft(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,DT=function(){return new ca},IT=function(){return er()},CT=jn,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Bc=rr,Ei.COMPLETE="complete",bT=Ei,fo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",le.prototype.listen=le.prototype.K,El=fo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,wT=Ht}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Om("@firebase/firestore");function za(){return Us.logLevel}function ot(r,...t){if(Us.logLevel<=Nt.DEBUG){const n=t.map(qm);Us.debug(`Firestore (${io}): ${r}`,...n)}}function Zi(r,...t){if(Us.logLevel<=Nt.ERROR){const n=t.map(qm);Us.error(`Firestore (${io}): ${r}`,...n)}}function Ya(r,...t){if(Us.logLevel<=Nt.WARN){const n=t.map(qm);Us.warn(`Firestore (${io}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,OT(r,s,n)}function OT(r,t,n){let s=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Zi(s),new Error(s)}function jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||OT(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class aI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oI{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new NT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class lI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function um(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Qd(o)===Qd(u)?Vt(o,u):Qd(o)?1:-1}return Vt(r.length,t.length)}const fI=55296,dI=57343;function Qd(r){const t=r.charCodeAt(0);return t>=fI&&t<=dI}function Xa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class si{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=si.isNumericId(t),o=si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(t).compare(si.extractNumericId(n)):um(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class re extends si{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new re(n)}static emptyPath(){return new re([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends si{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return mI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new je([Av])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function gI(r,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Rv(r){if(!mt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function VT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function xl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,t){const n={typeString:r};return t&&(n.value=t),n}function Wl(r,t){if(!VT(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-62135596800,bv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*bv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<wv)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function yI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new Br(o,mt.empty(),t)}function _I(r){return new Br(r.readTime,r.key,kl)}class Br{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Br(Tt.min(),mt.empty(),kl)}static max(){return new Br(Tt.max(),mt.empty(),kl)}}function vI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==EI)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function SI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function Eh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function AI(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function RI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Cv(t)),t=wI(r.get(n),t);return Cv(t)}function wI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case MT:n+="";break;default:n+=u}}return n}function Cv(r){return r+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function js(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function PT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new zn([])}unionWith(t){let n=new Ce(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=bI.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="server_timestamp",UT="__type__",LT="__previous_value__",zT="__local_write_time__";function Gm(r){return(r?.mapValue?.fields||{})[UT]?.stringValue===kT}function Th(r){const t=r.mapValue.fields[LT];return Gm(t)?Th(t):t}function Ul(r){const t=qr(r.mapValue.fields[zT].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const nh="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||nh}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="__type__",II="__max__",Nc={mapValue:{}},qT="__vector__",ih="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:OI(r)?9007199254740991:DI(r)?10:11:yt(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=jr(r);if(n!==jr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qr(o.timestampValue),m=qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=me(o.doubleValue),m=me(u.doubleValue);return f===m?eh(f)===eh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Iv(f)!==Iv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!di(f[g],m[g])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function zl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function $a(r,t){if(r===t)return 0;const n=jr(r),s=jr(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=me(u.integerValue||u.doubleValue),g=me(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Ul(r),Ul(t));case 5:return um(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Hr(u),g=Hr(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Vt(m[y],g[y]);if(E!==0)return E}return Vt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Vt(me(u.latitude),me(f.latitude));return m!==0?m:Vt(me(u.longitude),me(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return function(u,f){const m=u.fields||{},g=f.fields||{},y=m[ih]?.arrayValue,E=g[ih]?.arrayValue,A=Vt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:Nv(y,E)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Nc.mapValue&&f===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const w=um(g[A],E[A]);if(w!==0)return w;const q=$a(m[g[A]],y[E[A]]);if(q!==0)return q}return Vt(g.length,E.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=qr(r),s=qr(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function Nv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=$a(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function Za(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=cm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${cm(n.fields[f])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function qc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+qc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return js(s.fields,(u,f)=>{o+=u.length+qc(f)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function hm(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function Vv(r){return!!r&&"nullValue"in r}function Mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function DI(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===qT}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return js(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Cl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return t}return{...r}}function OI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===II}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Hc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Cl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){js(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new On(Cl(this.value))}}function HT(r){const t=[];return js(r.fields,(n,s)=>{const o=new je([n]);if(Hc(s)){const u=HT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,Tt.min(),Tt.min(),Tt.min(),On.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,Tt.min(),Tt.min(),On.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,Tt.min(),Tt.min(),On.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.position=t,this.inclusive=n}}function Pv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=$a(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function xv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,n="asc"){this.field=t,this.dir=n}}function NI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class be extends jT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new MI(t,n,s):n==="array-contains"?new kI(t,s):n==="in"?new UI(t,s):n==="not-in"?new LI(t,s):n==="array-contains-any"?new zI(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new PI(t,s):new xI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($a(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends jT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mi(t,n)}matches(t){return FT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(r){return r.op==="and"}function GT(r){return VI(r)&&FT(r)}function VI(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function fm(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(GT(r))return r.filters.map(t=>fm(t)).join(",");{const t=r.filters.map(n=>fm(n)).join(",");return`${r.op}(${t})`}}function KT(r,t){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&KT(f,o.filters[m]),!0):!1}(r,t):void yt(19439)}function QT(r){return r instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(r):"Filter"}class MI extends be{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PI extends be{constructor(t,n){super(t,"in",n),this.keys=YT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class xI extends be{constructor(t,n){super(t,"not-in",n),this.keys=YT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function YT(r,t){return(t.arrayValue?.values||[]).map(n=>mt.fromName(n.referenceValue))}class kI extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Km(n)&&zl(n.arrayValue,this.value)}}class UI extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class LI extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class zI extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function kv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new BI(r,t,n,s,o,u,f)}function Qm(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>fm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Za(s)).join(",")),t.Te=n}return t.Te}function Ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!NI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!xv(r.startAt,t.startAt)&&xv(r.endAt,t.endAt)}function dm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qI(r,t,n,s,o,u,f,m){return new Sh(r,t,n,s,o,u,f,m)}function Xm(r){return new Sh(r)}function Uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function HI(r){return r.collectionGroup!==null}function Il(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(je.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new sh(u,s))}),n.has(je.keyField().canonicalString())||t.Ie.push(new sh(je.keyField(),s))}return t.Ie}function oi(r){const t=At(r);return t.Ee||(t.Ee=jI(t,Il(r))),t.Ee}function jI(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new sh(o.field,u)});const n=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function mm(r,t,n){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ah(r,t){return Ym(oi(r),oi(t))&&r.limitType===t.limitType}function XT(r){return`${Qm(oi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QT(o)).join(", ")}]`),Eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Rh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Il(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=Pv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Il(s),o)||s.endAt&&!function(f,m,g){const y=Pv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Il(s),o))}(r,t)}function FI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $T(r){return(t,n)=>{let s=!1;for(const o of Il(r)){const u=GI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function GI(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?$a(g,y):yt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return PT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new ae(mt.comparator);function Wi(){return KI}const ZT=new ae(mt.comparator);function Tl(...r){let t=ZT;for(const n of r)t=t.insert(n.key,n);return t}function WT(r){let t=ZT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ns(){return Dl()}function JT(){return Dl()}function Dl(){return new Fs(r=>r.toString(),(r,t)=>r.isEqual(t))}const QI=new ae(mt.comparator),YI=new Ce(mt.comparator);function Mt(...r){let t=YI;for(const n of r)t=t.add(n);return t}const XI=new Ce(Vt);function $I(){return XI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function t0(r){return{integerValue:""+r}}function ZI(r,t){return AI(t)?t0(t):$m(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function WI(r,t,n){return r instanceof ah?function(o,u){const f={fields:{[UT]:{stringValue:kT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gm(u)&&(u=Th(u)),u&&(f.fields[LT]=u),{mapValue:f}}(n,t):r instanceof Bl?n0(r,t):r instanceof ql?i0(r,t):function(o,u){const f=e0(o,u),m=Lv(f)+Lv(o.Ae);return hm(f)&&hm(o.Ae)?t0(m):$m(o.serializer,m)}(r,t)}function JI(r,t,n){return r instanceof Bl?n0(r,t):r instanceof ql?i0(r,t):n}function e0(r,t){return r instanceof oh?function(s){return hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class ah extends wh{}class Bl extends wh{constructor(t){super(),this.elements=t}}function n0(r,t){const n=r0(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class ql extends wh{constructor(t){super(),this.elements=t}}function i0(r,t){let n=r0(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class oh extends wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Lv(r){return me(r.integerValue||r.doubleValue)}function r0(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function t2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Bl&&o instanceof Bl||s instanceof ql&&o instanceof ql?Xa(s.elements,o.elements,di):s instanceof oh&&o instanceof oh?di(s.Ae,o.Ae):s instanceof ah&&o instanceof ah}(r.transform,t.transform)}class e2{constructor(t,n){this.version=t,this.transformResults=n}}class Qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function s0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new o0(r.key,Qi.none()):new Jl(r.key,r.data,Qi.none());{const n=r.data,s=On.empty();let o=new Ce(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Gs(r.key,s,new zn(o.toArray()),Qi.none())}}function n2(r,t,n){r instanceof Jl?function(o,u,f){const m=o.value.clone(),g=Bv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Gs?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Bv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(a0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ol(r,t,n,s){return r instanceof Jl?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=u.value.clone(),E=qv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Gs?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=qv(u.fieldTransforms,g,f),E=f.data;return E.setAll(a0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,m){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function i2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=e0(s.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(s.field,u))}return n||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>t2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends bh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends bh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function a0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Bv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,JI(f,m,n[o]))}return s}function qv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,WI(u,f,t))}return s}class o0 extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&n2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=JT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=s0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,(n,s)=>zv(n,s))&&Xa(this.baseMutations,t.baseMutations,(n,s)=>zv(n,s))}}class Zm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return QI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function l2(r){switch(r){case tt.OK:return yt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function l0(r){if(r===void 0)return Zi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case ve.OK:return tt.OK;case ve.CANCELLED:return tt.CANCELLED;case ve.UNKNOWN:return tt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return tt.INTERNAL;case ve.UNAVAILABLE:return tt.UNAVAILABLE;case ve.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ve.NOT_FOUND:return tt.NOT_FOUND;case ve.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ve.ABORTED:return tt.ABORTED;case ve.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ve.DATA_LOSS:return tt.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Lr([4294967295,4294967295],0);function Hv(r){const t=u2().encode(r),n=new RT;return n.update(t),new Uint8Array(n.digest())}function jv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Lr([n,s],0),new Lr([o,u],0)]}class Wm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Lr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Lr.fromNumber(s)));return o.compare(c2)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Hv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=Hv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ch(Tt.min(),o,new ae(Vt),Wi(),Mt())}}class tu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new tu(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class u0{constructor(t,n){this.targetId=t,this.Ce=n}}class c0{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Fv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),n=Mt(),s=Mt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}}),new tu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Gv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class h2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Vc(),this.He=Vc(),this.Ye=new ae(Vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(dm(u))if(s===0){const f=new mt(u.path);this.et(n,f,$e.newNoDocument(f,Tt.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hr(s).toUint8Array()}catch(g){if(g instanceof xT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Wm(f,o,u)}catch(g){return Ya(g instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&dm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,$e.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Mt();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Ch(t,n,this.Ye,this.je,s);return this.je=Wi(),this.Je=Vc(),this.He=Vc(),this.Ye=new ae(Vt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Fv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(Vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(Vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Fv),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new ae(mt.comparator)}function Gv(){return new ae(mt.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pm(r,t){return r.useProto3Json||Eh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function g2(r,t){return lh(r,t.toTimestamp())}function li(r){return jt(!!r,49232),Tt.fromTimestamp(function(n){const s=qr(n);return new te(s.seconds,s.nanos)}(r))}function Jm(r,t){return gm(r,t).canonicalString()}function gm(r,t){const n=function(o){return new re(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function f0(r){const t=re.fromString(r);return jt(y0(t),10190,{key:t.toString()}),t}function ym(r,t){return Jm(r.databaseId,t.path)}function Yd(r,t){const n=f0(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(m0(n))}function d0(r,t){return Jm(r.databaseId,t)}function y2(r){const t=f0(r);return t.length===4?re.emptyPath():m0(t)}function _m(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function m0(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Kv(r,t,n){return{name:ym(r,t),fields:n.value.mapValue.fields}}function _2(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?tt.UNKNOWN:l0(y.code);return new ct(E,y.message||"")}(f);n=new c0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Yd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):Tt.min(),m=new On({mapValue:{fields:s.document.fields}}),g=$e.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Fc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Yd(r,s.document),u=s.readTime?li(s.readTime):Tt.min(),f=$e.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Fc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Yd(r,s.document),u=s.removedTargetIds||[];n=new Fc([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new o2(o,u),m=s.targetId;n=new u0(m,f)}}return n}function v2(r,t){let n;if(t instanceof Jl)n={update:Kv(r,t.key,t.value)};else if(t instanceof o0)n={delete:ym(r,t.key)};else if(t instanceof Gs)n={update:Kv(r,t.key,t.data),updateMask:I2(t.fieldMask)};else{if(!(t instanceof r2))return yt(16599,{Vt:t.type});n={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof oh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:g2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)}(r,t.precondition)),n}function E2(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(Tt.min())&&(f=li(u)),new e2(f,o.transformResults||[])}(n,t))):[]}function T2(r,t){return{documents:[d0(r,t.path)]}}function S2(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=d0(r,o);const u=function(y){if(y.length!==0)return g0(mi.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:qa(w.field),direction:w2(w.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=pm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ft:n,parent:o}}function A2(r){let t=y2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=p0(A);return w instanceof mi&&GT(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(F){return new sh(Ha(F.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,Eh(w)?null:w}(n.limit));let g=null;n.startAt&&(g=function(A){const w=!!A.before,q=A.values||[];return new rh(q,w)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const w=!A.before,q=A.values||[];return new rh(q,w)}(n.endAt)),qI(t,o,f,u,m,"F",g,y)}function R2(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function p0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(n){return be.create(Ha(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>p0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(r):yt(30097,{filter:r})}function w2(r){return f2[r]}function b2(r){return d2[r]}function C2(r){return m2[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return je.fromServerFormat(r.fieldPath)}function g0(r){return r instanceof be?function(n){if(n.op==="=="){if(Mv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:b2(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>g0(o));return s.length===1?s[0]:{compositeFilter:{op:C2(n.op),filters:s}}}(r):yt(54877,{filter:r})}function I2(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function y0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=Fe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.yt=t}}function O2(r){const t=A2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Cn=new V2}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Br.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class V2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(re.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(_0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",M2=1048576;function Xv([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class P2{constructor(t){this.Ir=t,this.buffer=new Ce(Xv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?ot(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Vr(3e5)})}}class k2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(vh.ce);const s=new P2(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Qv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(y=Date.now(),za()<=Nt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function U2(r,t){return new k2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new Fs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ol(s.mutation,o,zn.empty(),te.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Ns();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Tl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ns();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Wi();const f=Dl(),m=function(){return Dl()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ol(E.mutation,y,E.mutation.getFieldMask(),te.now())):f.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>m.set(y,new z2(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(t,n){const s=Dl();let o=new ae((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||zn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||Mt()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=JT();E.forEach(w=>{if(!u.has(w)){const q=s0(n.get(w),s.get(w));q!==null&&A.set(w,q),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Ns());let m=kl,g=u;return f.next(y=>$.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(w=>{g=g.insert(E,w)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Mt())).next(E=>({batchId:m,changes:WT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next(s=>{let o=Tl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(t,u).next(m=>$.forEach(m,g=>{const y=function(A,w){return new Sh(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))});let m=Tl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Ol(E.mutation,y,zn.empty(),te.now()),Rh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:O2(o.bundledQuery),readTime:li(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ns();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Ns(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ns(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ns(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return $.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new a2(n,s));let u=this.qr.get(n);u===void 0&&(u=Mt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.Qr=new Ce(Pe.$r),this.Ur=new Ce(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Pe(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new mt(new re([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new re([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Mt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Pe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Vt(t.Yr,n.Yr)}static Kr(t,n){return Vt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new s2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Fm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Vt);return n.forEach(o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new mt(u),0);let m=new Ce(Vt);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},f),$.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.ri=t,this.docs=function(){return new ae(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Wi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Wi();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||vI(_I(E),s)<=0||(o.has(E.key)||Rh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new K2(this)}getSize(t){return $.resolve(this.size)}}class K2 extends L2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.persistence=t,this.si=new Fs(n=>Qm(n),Ym),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new tp,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Wa(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,n){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new j2,this.referenceDelegate=t(this),this.Pi=new Q2(this),this.indexManager=new N2,this.remoteDocumentCache=function(o){return new G2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new D2(n),this.Ii=new q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new H2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new F2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new Y2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class Y2 extends TI{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Ri=new tp,this.Vi=null}static mi(t){return new ep(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=mt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class uh{constructor(t,n){this.persistence=t,this.pi=new Fs(s=>RI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=U2(this,n)}static mi(t,n){return new uh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return $.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=qc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OR()?8:SI(Ze())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new X2;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(za()<=Nt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(za()<=Nt.DEBUG&&ot("QueryEngine","Query:",Ba(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(za()<=Nt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(n))):$.resolve())}ys(t,n){if(Uv(n))return $.resolve(null);let s=oi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=mm(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,mm(n,null,"F")):this.vs(t,y,n,g)}))})))}ws(t,n,s,o){return Uv(n)||o.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(za()<=Nt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(n)),this.vs(t,f,n,yI(o,kl)).next(m=>m))})}Ds(t,n){let s=new Ce($T(t));return n.forEach((o,u)=>{Rh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return za()<=Nt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(t,n,Br.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",Z2=3e8;class W2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ae(Vt),this.xs=new Fs(u=>Qm(u),Ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new B2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function J2(r,t,n,s){return new W2(r,t,n,s)}async function E0(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Mt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function tD(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const A=y.batch,w=A.keys();let q=$.resolve();return w.forEach(F=>{q=q.next(()=>E.getEntry(g,F)).next(Z=>{const j=y.docVersions.get(F);jt(j!==null,48541),Z.version.compareTo(j)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))})}),q.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function T0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function eD(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let q=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?q=q.withResumeToken(Fe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(A,q),function(Z,j,W){return Z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Z2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(w,q,E)&&m.push(n.Pi.updateTargetData(u,q))});let g=Wi(),y=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nD(u,f,t.documentUpdates).next(E=>{g=E.ks,y=E.qs})),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ms=o,u))}function nD(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Wi();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:f,qs:o}})}function iD(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function rD(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Mr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function vm(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!so(f))throw f;ot(ip,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function $v(r,t,n){const s=At(r);let o=Tt.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=At(g),w=A.xs.get(E);return w!==void 0?$.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,E)}(s,f,oi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Mt())).next(m=>(sD(s,FI(t),m),{documents:m,Qs:u})))}function sD(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class Zv{constructor(){this.activeTargetIds=$I()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aD{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Em(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Em(),m=this.zo(t,n.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=eo(y);return this.Jo(t,m,g,s,E).then(A=>(ot(Xd,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Ya(Xd,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=lD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class hD extends uD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Em();return new Promise((m,g)=>{const y=new wT;y.setWithCredentials(!0),y.listenOnce(bT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Bc.NO_ERROR:const A=y.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case Bc.TIMEOUT:ot(Ye,`RPC '${t}' ${f} timed out`),g(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const w=y.getStatus();if(ot(Ye,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const F=q?.error;if(F&&F.status&&F.message){const Z=function(W){const at=W.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(at)>=0?at:tt.UNKNOWN}(F.status);g(new ct(Z,F.message))}else g(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Ye,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ot(Ye,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Em(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DT(),m=IT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);this.I_(A);let w=!1,q=!1;const F=new cD({Yo:j=>{q?ot(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(w||(ot(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),ot(Ye,`RPC '${t}' stream ${o} sending:`,j),A.send(j))},Zo:()=>A.close()}),Z=(j,W,at)=>{j.listen(W,it=>{try{at(it)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return Z(A,El.EventType.OPEN,()=>{q||(ot(Ye,`RPC '${t}' stream ${o} transport opened.`),F.o_())}),Z(A,El.EventType.CLOSE,()=>{q||(q=!0,ot(Ye,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(A))}),Z(A,El.EventType.ERROR,j=>{q||(q=!0,Ya(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),F.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),Z(A,El.EventType.MESSAGE,j=>{if(!q){const W=j.data[0];jt(!!W,16349);const at=W,it=at?.error||at[0]?.error;if(it){ot(Ye,`RPC '${t}' stream ${o} received error:`,it);const Rt=it.status;let ht=function(R){const C=ve[R];if(C!==void 0)return l0(C)}(Rt),Pt=it.message;ht===void 0&&(ht=tt.INTERNAL,Pt="Unknown error status: "+Rt+" with message "+it.message),q=!0,F.a_(new ct(ht,Pt)),A.close()}else ot(Ye,`RPC '${t}' stream ${o} received:`,W),F.u_(W)}}),Z(m,CT.STAT_EVENT,j=>{j.stat===lm.PROXY?ot(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===lm.NOPROXY&&ot(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new p2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class A0{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ot(tE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ot(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fD extends A0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=_2(this.serializer,t),s=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?li(f.readTime):Tt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=_m(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=dm(g)?{documents:T2(u,g)}:{query:S2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=h0(u,f.resumeToken);const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=lh(u,f.snapshotVersion.toTimestamp());const y=pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=R2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=_m(this.serializer),n.removeTarget=t,this.q_(n)}}class dD extends A0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=E2(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>v2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{}class pD extends mD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,gm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class yD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ot(Ls,"Restarting streams for network reachability change."),await async function(g){const y=At(g);y.Ea.add(4),await eu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)}(this))})}),this.Ra=new gD(s,o)}}async function Dh(r){if(Ks(r))for(const t of r.da)await t(!0)}async function eu(r){for(const t of r.da)await t(!1)}function R0(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),op(n)?ap(n):ao(n).O_()&&sp(n,t))}function rp(r,t){const n=At(r),s=ao(n);n.Ia.delete(t),s.O_()&&w0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ks(n)&&n.Ra.set("Unknown"))}function sp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ao(r).Y_(t)}function w0(r,t){r.Va.Ue(t),ao(r).Z_(t)}function ap(r){r.Va=new h2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function op(r){return Ks(r)&&!ao(r).x_()&&r.Ia.size>0}function Ks(r){return At(r).Ea.size===0}function b0(r){r.Va=void 0}async function _D(r){r.Ra.set("Online")}async function vD(r){r.Ia.forEach((t,n)=>{sp(r,t)})}async function ED(r,t){b0(r),op(r)?(r.Ra.ha(t),ap(r)):r.Ra.set("Unknown")}async function TD(r,t,n){if(r.Ra.set("Online"),t instanceof c0&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,t)}catch(s){ot(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ch(r,s)}else if(t instanceof Fc?r.Va.Ze(t):t instanceof u0?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await T0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),w0(u,g);const A=new Mr(E.target,g,y,E.sequenceNumber);sp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ot(Ls,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,t,n){if(!so(t))throw t;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),n||(n=()=>T0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ls,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Dh(r)})}function C0(r,t){return t().catch(n=>ch(r,n,t))}async function Oh(r){const t=At(r),n=Fr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fm;for(;SD(t);)try{const o=await iD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,AD(t,o)}catch(o){await ch(t,o)}I0(t)&&D0(t)}function SD(r){return Ks(r)&&r.Ta.length<10}function AD(r,t){r.Ta.push(t);const n=Fr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function I0(r){return Ks(r)&&!Fr(r).x_()&&r.Ta.length>0}function D0(r){Fr(r).start()}async function RD(r){Fr(r).ra()}async function wD(r){const t=Fr(r);for(const n of r.Ta)t.ea(n.mutations)}async function bD(r,t,n){const s=r.Ta.shift(),o=Zm.from(s,t,n);await C0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Oh(r)}async function CD(r,t){t&&Fr(r).X_&&await async function(s,o){if(function(f){return l2(f)&&f!==tt.ABORTED}(o.code)){const u=s.Ta.shift();Fr(s).B_(),await C0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Oh(s)}}(r,t),I0(r)&&D0(r)}async function eE(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Ls,"RemoteStore received new credentials");const s=Ks(n);n.Ea.add(3),await eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Dh(n)}async function ID(r,t){const n=At(r);t?(n.Ea.delete(2),await Dh(n)):t||(n.Ea.add(2),await eu(n),n.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=function(n,s,o){const u=At(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:_D.bind(null,r),t_:vD.bind(null,r),r_:ED.bind(null,r),H_:TD.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),op(r)?ap(r):r.Ra.set("Unknown")):(await r.ma.stop(),b0(r))})),r.ma}function Fr(r){return r.fa||(r.fa=function(n,s,o){const u=At(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RD.bind(null,r),r_:CD.bind(null,r),ta:wD.bind(null,r),na:bD.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Ls,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new lp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(r,t){if(Zi("AsyncQueue",`${t}: ${r}`),so(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.ga=new ae(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ja{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ja(t,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class OD{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=iE(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function iE(){return new Fs(r=>XT(r),Ah)}async function ND(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new DD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=up(f,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&cp(n)}async function VD(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MD(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&cp(n)}function PD(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function cp(r){r.Ca.forEach(t=>{t.next()})}var Tm,rE;(rE=Tm||(Tm={})).Ma="default",rE.Cache="cache";class xD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ja(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t){this.key=t}}class N0{constructor(t){this.key=t}}class kD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=$T(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new nE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const w=o.get(E),q=Rh(this.query,A)?A:null,F=!!w&&this.mutatedKeys.has(w.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let j=!1;w&&q?w.data.isEqual(q.data)?F!==Z&&(s.track({type:3,doc:q}),j=!0):this.su(w,q)||(s.track({type:2,doc:q}),j=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!w&&q?(s.track({type:0,doc:q}),j=!0):w&&!q&&(s.track({type:1,doc:w}),j=!0,(g||y)&&(m=!0)),j&&(q?(f=f.add(q),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(q,F){const Z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:j})}};return Z(q)-Z(F)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Ja(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new N0(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new O0(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Mt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class UD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class LD{constructor(t){this.key=t,this.hu=!1}}class zD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs(m=>XT(m),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new tp,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BD(r,t,n=!0){const s=U0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await V0(s,t,n,!0),o}async function qD(r,t){const n=U0(r);await V0(n,t,!0,!1)}async function V0(r,t,n,s){const o=await rD(r.localStore,oi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&R0(r.remoteStore,o),m}async function HD(r,t,n,s,o){r.pu=(A,w,q)=>async function(Z,j,W,at){let it=j.view.ru(W);it.Cs&&(it=await $v(Z.localStore,j.query,!1).then(({documents:V})=>j.view.ru(V,it)));const Rt=at&&at.targetChanges.get(j.targetId),ht=at&&at.targetMismatches.get(j.targetId)!=null,Pt=j.view.applyChanges(it,Z.isPrimaryClient,Rt,ht);return aE(Z,j.targetId,Pt.au),Pt.snapshot}(r,A,w,q);const u=await $v(r.localStore,t,!0),f=new kD(t,u.Qs),m=f.ru(u.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);aE(r,n,y.au);const E=new UD(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function jD(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Ah(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rp(s.remoteStore,o.targetId),Sm(s,o.targetId)}).catch(ro)):(Sm(s,o.targetId),await vm(s.localStore,o.targetId,!0))}async function FD(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rp(n.remoteStore,s.targetId))}async function GD(r,t,n){const s=WD(r);try{const o=await function(f,m){const g=At(f),y=te.now(),E=m.reduce((q,F)=>q.add(F.key),Mt());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let F=Wi(),Z=Mt();return g.Ns.getEntries(q,E).next(j=>{F=j,F.forEach((W,at)=>{at.isValidDocument()||(Z=Z.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,F)).next(j=>{A=j;const W=[];for(const at of m){const it=i2(at,A.get(at.key).overlayedDocument);it!=null&&W.push(new Gs(at.key,it,HT(it.value.mapValue),Qi.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,W,m)}).next(j=>{w=j;const W=j.applyToLocalDocumentSet(A,Z);return g.documentOverlayCache.saveOverlays(q,j.batchId,W)})}).then(()=>({batchId:w.batchId,changes:WT(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ae(Vt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await nu(s,o.changes),await Oh(s.remoteStore)}catch(o){const u=up(o,"Failed to persist write");n.reject(u)}}async function M0(r,t){const n=At(r);try{const s=await eD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?jt(f.hu,14607):o.removedDocuments.size>0&&(jt(f.hu,42227),f.hu=!1))}),await nu(n,s,t)}catch(s){await ro(s)}}function sE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=At(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const w of A.Sa)w.va(m)&&(y=!0)}),y&&cp(g)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function KD(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ae(mt.comparator);f=f.insert(u,$e.newNoDocument(u,Tt.min()));const m=Mt().add(u),g=new Ch(Tt.min(),new Map,new ae(Vt),f,m);await M0(s,g),s.du=s.du.remove(u),s.Au.delete(t),fp(s)}else await vm(s.localStore,t,!1).then(()=>Sm(s,t,n)).catch(ro)}async function QD(r,t){const n=At(r),s=t.batch.batchId;try{const o=await tD(n.localStore,t);x0(n,s,null),P0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nu(n,o)}catch(o){await ro(o)}}async function YD(r,t,n){const s=At(r);try{const o=await function(f,m){const g=At(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(jt(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,t);x0(s,t,n),P0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await nu(s,o)}catch(o){await ro(o)}}function P0(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function x0(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Sm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||k0(r,s)})}function k0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(rp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),fp(r))}function aE(r,t,n){for(const s of n)s instanceof O0?(r.Ru.addReference(s.key,t),XD(r,s)):s instanceof N0?(ot(hp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||k0(r,s.key)):yt(19791,{wu:s})}function XD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(hp,"New document in limbo: "+n),r.Eu.add(s),fp(r))}function fp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(re.fromString(t)),s=r.fu.next();r.Au.set(s,new LD(n)),r.du=r.du.insert(n,s),R0(r.remoteStore,new Mr(oi(Xm(n.path)),s,"TargetPurposeLimboResolution",vh.ce))}}async function nu(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,t,n).then(y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=np.As(g.targetId,y);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,y){const E=At(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>$.forEach(y,w=>$.forEach(w.Es,q=>E.persistence.referenceDelegate.addReference(A,w.targetId,q)).next(()=>$.forEach(w.ds,q=>E.persistence.referenceDelegate.removeReference(A,w.targetId,q)))))}catch(A){if(!so(A))throw A;ot(ip,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const q=E.Ms.get(w),F=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Z)}}}(s.localStore,u))}async function $D(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(hp,"User change. New user:",t.toKey());const s=await E0(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new ct(tt.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await nu(n,s.Ls)}}function ZD(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function U0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=M0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KD.bind(null,t),t.Pu.H_=MD.bind(null,t.eventManager),t.Pu.yu=PD.bind(null,t.eventManager),t}function WD(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return J2(this.persistence,new $2,t.initialUser,this.serializer)}Cu(t){return new v0(ep.mi,this.serializer)}Du(t){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class JD extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){jt(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new x2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new v0(s=>uh.mi(s,n),this.serializer)}}class Am{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OD}()}createDatastore(t){const n=Ih(t.databaseInfo.databaseId),s=function(u){return new hD(u)}(t.databaseInfo);return function(u,f,m,g){return new pD(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new yD(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return Jv.v()?new Jv:new oD}())}createSyncEngine(t,n){return function(o,u,f,m,g,y,E){const A=new zD(o,u,f,m,g,y);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=At(n);ot(Ls,"RemoteStore shutting down."),s.Ea.add(5),await eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class eO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=up(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await E0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function oE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await nO(r);ot(Gr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>eE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>eE(t.remoteStore,o)),r._onlineComponents=t}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Gr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new hh)}}else ot(Gr,"Using default OfflineComponentProvider"),await Zd(r,new JD(void 0));return r._offlineComponents}async function L0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Gr,"Using user provided OnlineComponentProvider"),await oE(r,r._uninitializedComponentsProvider._online)):(ot(Gr,"Using default OnlineComponentProvider"),await oE(r,new Am))),r._onlineComponents}function iO(r){return L0(r).then(t=>t.syncEngine)}async function rO(r){const t=await L0(r),n=t.eventManager;return n.onListen=BD.bind(null,t.syncEngine),n.onUnlisten=jD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,t.syncEngine),n}function sO(r,t,n={}){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new tO({next:w=>{E.Nu(),f.enqueueAndForget(()=>VD(u,A));const q=w.docs.has(m);!q&&w.fromCache?y.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&w.fromCache&&g&&g.source==="server"?y.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new xD(Xm(m.path),E,{includeMetadataChanges:!0,qa:!0});return ND(u,A)}(await rO(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firestore.googleapis.com",uE=!0;class cE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B0,this.ssl=uE}else this.host=t.host,this.ssl=t.ssl??uE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M2)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z0(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sI;switch(s.type){case"firstParty":return new uI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),lE.delete(n),s.terminate())}(this),Promise.resolve()}}function aO(r,t,n,s={}){r=xl(r,dp);const o=eo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(UE(`https://${m}`),LE("Firestore",!0)),u.host!==B0&&u.host!==m&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ms(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Xe.MOCK_USER;else{y=TR(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(A)}r._authCredentials=new aI(new NT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mp(this.firestore,t,this._query)}}class xe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wl(n,xe._jsonSchema))return new xe(t,s||null,new mt(re.fromString(n.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ee("string",xe._jsonSchemaVersion),referencePath:Ee("string")};class Hl extends mp{constructor(t,n,s){super(t,n,Xm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new mt(t))}withConverter(t){return new Hl(this.firestore,t,this._path)}}function oO(r,t,...n){if(r=hi(r),arguments.length===1&&(t=Hm.newId()),pI("doc","path",t),r instanceof dp){const s=re.fromString(t,...n);return Rv(s),new xe(r,null,new mt(s))}{if(!(r instanceof xe||r instanceof Hl))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...n));return Rv(s),new xe(r.firestore,r instanceof Hl?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S0(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&ot(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;ot(hE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",dE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=lp.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class pp extends dp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fE(t),this._firestoreClient=void 0,await t}}}function lO(r,t){const n=HE(),s=nh,o=Vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vR("firestore");u&&aO(o,...u)}return o}function q0(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uO(r),r._firestoreClient}function uO(r){const t=r._freezeSettings(),n=function(o,u,f,m){return new CI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,z0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new eO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(Fe.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ee("string",ui._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ci(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ee("string",ci._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^__.*__$/;class hO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(t,this.data,n,this.fieldTransforms)}}function j0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class yp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(j0(this.Ac)&&cO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ih(t)}Cc(t,n,s,o=!1){return new yp({Ac:t,methodName:n,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dO(r){const t=r._freezeSettings(),n=Ih(r._databaseId);return new fO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function mO(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);Q0("Data must be an object, but it was:",f,s);const m=G0(s,f);let g,y;if(u.merge)g=new zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=pO(t,A,n);if(!f.contains(w))throw new ct(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yO(E,w)||E.push(w)}g=new zn(E),y=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=f.fieldTransforms;return new hO(new On(m),g,y)}function F0(r,t){if(K0(r=hi(r)))return Q0("Unsupported field value:",t,r),G0(r,t);if(r instanceof H0)return function(s,o){if(!j0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=F0(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=hi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:lh(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(o.serializer,u)}}if(s instanceof ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:h0(o.serializer,s._byteString)};if(s instanceof xe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return function(f,m){return{mapValue:{fields:{[BT]:{stringValue:qT},[ih]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return $m(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${jm(s)}`)}(r,t)}function G0(r,t){const n={};return PT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(r,(s,o)=>{const u=F0(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function K0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ui||r instanceof Nn||r instanceof xe||r instanceof H0||r instanceof ci)}function Q0(r,t,n){if(!K0(n)||!VT(n)){const s=jm(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function pO(r,t,n){if((t=hi(t))instanceof gp)return t._internalPath;if(typeof t=="string")return Y0(r,t);throw fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const gO=new RegExp("[~\\*/\\[\\]]");function Y0(r,t,n){if(t.search(gO)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gp(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(tt.INVALID_ARGUMENT,m+r+g)}function yO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _O extends X0{data(){return super.data()}}function $0(r,t){return typeof t=="string"?Y0(r,t):t instanceof gp?t._internalPath:t._delegate._internalPath}class vO{convertValue(t,n="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return js(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[ih].arrayValue?.values?.map(s=>me(s.doubleValue));return new ci(n)}convertGeoPoint(t){return new ui(me(t.latitude),me(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Th(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const n=qr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);jt(y0(s),9688,{name:t});const o=new Ll(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends X0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field($0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Ee("string",Vs._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Gc extends Vs{data(t={}){return super.data(t)}}class Nl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Gc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Al(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Gc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Al(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){r=xl(r,xe);const t=xl(r.firestore,pp);return sO(q0(t),r._key).then(n=>bO(t,r,n))}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Ee("string",Nl._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class AO extends vO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function RO(r,t,n){r=xl(r,xe);const s=xl(r.firestore,pp),o=EO(r.converter,t);return wO(s,[mO(dO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qi.none())])}function wO(r,t){return function(s,o){const u=new zr;return s.asyncQueue.enqueueAndForget(async()=>GD(await iO(s),o,u)),u.promise}(q0(r),t)}function bO(r,t,n){const s=n.docs.get(t._key),o=new AO(r);return new Vs(r,o,t._key,s,new Al(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){io=o})(no),Qa(new Ps("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new pp(new oI(s.getProvider("auth-internal")),new cI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),kr(Ev,Tv,t),kr(Ev,Tv,"esm2020")})();const CO={apiKey:"AIzaSyAco6xhLdhjxsVb4Wg3okjvsDrRuREyUds",authDomain:"crwn-clothing-db-ce2c1.firebaseapp.com",projectId:"crwn-clothing-db-ce2c1",storageBucket:"crwn-clothing-db-ce2c1.firebasestorage.app",messagingSenderId:"561675895952",appId:"1:561675895952:web:1a13ef765dd08713a7c415"};qE(CO);const Z0=new ji;Z0.setCustomParameters({prompt:"select_account"});const W0=iI(),IO=()=>fC(W0,Z0),DO=lO(),J0=async(r,t={})=>{if(!r)return;const n=oO(DO,"users",r.uid);if(!(await SO(n)).exists()){const{displayName:o,email:u}=r,f=new Date;try{await RO(n,{displayName:o,email:u,createdAt:f,...t})}catch(m){console.log("error creating the user",m.message)}}return n},OO=async(r,t)=>{if(!(!r||!t))return Fb(W0,r,t)},mE={displayName:"",email:"",password:"",comfirmPassword:""},NO=()=>{const[r,t]=G.useState(mE),{displayName:n,email:s,password:o,comfirmPassword:u}=r,f=()=>{t(mE)},m=y=>{const{name:E,value:A}=y.target;t(w=>({...w,[E]:A}))},g=async y=>{if(y.preventDefault(),o!==u){alert("passwords do not match!");return}try{const E=await OO(s,o),{user:A}=E;await J0(A,{displayName:n}),f()}catch(E){E.code==="auth/email-already-in-use"?alert("Cannot create user, email already in use"):console.error("user creation encountered an error",E)}};return St.jsxs("div",{children:[St.jsx("h1",{children:"Sign up with your email and password"}),St.jsxs("form",{onSubmit:g,children:[St.jsx("label",{children:"Display Name"}),St.jsx("input",{type:"text",name:"displayName",value:n,required:!0,onChange:m}),St.jsx("label",{children:"Email"}),St.jsx("input",{type:"email",name:"email",value:s,required:!0,onChange:m}),St.jsx("label",{children:"Password"}),St.jsx("input",{type:"password",name:"password",value:o,required:!0,onChange:m}),St.jsx("label",{children:"Comfirm Password"}),St.jsx("input",{type:"password",name:"comfirmPassword",value:u,required:!0,onChange:m}),St.jsx("button",{type:"submit",children:"Sign Up"})]})]})},VO=()=>{const r=async()=>{const t=await IO(),{user:n}=t;await J0(n)};return St.jsxs("div",{children:["Sign in page",St.jsx("button",{onClick:r,children:"Sign in with Google Popup"}),St.jsx(NO,{})]})},MO=()=>St.jsx("div",{children:"I am the Shop Page"});function PO(){return St.jsx(C1,{children:St.jsxs(vl,{path:"/",element:St.jsx(cR,{}),children:[St.jsx(vl,{index:!0,element:St.jsx(lR,{})}),St.jsx(vl,{path:"shop",element:St.jsx(MO,{})}),St.jsx(vl,{path:"sign-in",element:St.jsx(VO,{})})]})})}MA.createRoot(document.getElementById("root")).render(St.jsx(G.StrictMode,{children:St.jsx($1,{children:St.jsx(PO,{})})}));
